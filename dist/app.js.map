{
  "version": 3,
  "sources": ["../src/modules/dom.js", "../src/modules/viewport.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/maths.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/animate.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/dimensions.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/debounce.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/emitter.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/virtual-scroll.js", "../node_modules/.pnpm/@studio-freight+lenis@1.0.27/node_modules/@studio-freight/lenis/src/index.js", "../src/util/easings.js", "../src/modules/scroll.js", "../node_modules/.pnpm/selector-set@1.1.5/node_modules/selector-set/selector-set.next.js", "../node_modules/.pnpm/@unseenco+e@2.4.0/node_modules/@unseenco/e/src/utils.js", "../node_modules/.pnpm/@unseenco+e@2.4.0/node_modules/@unseenco/e/src/e.js", "../node_modules/.pnpm/@unseenco+taxi@1.5.1/node_modules/@unseenco/taxi/src/helpers.js", "../node_modules/.pnpm/@unseenco+taxi@1.5.1/node_modules/@unseenco/taxi/src/Transition.js", "../node_modules/.pnpm/@unseenco+taxi@1.5.1/node_modules/@unseenco/taxi/src/Renderer.js", "../node_modules/.pnpm/@unseenco+taxi@1.5.1/node_modules/@unseenco/taxi/src/RouteStore.js", "../node_modules/.pnpm/@unseenco+taxi@1.5.1/node_modules/@unseenco/taxi/src/Core.js", "../src/modules/pages.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/functions/Vec3Func.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/Vec3.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/core/Geometry.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/core/Program.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/core/Renderer.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/functions/Vec4Func.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/functions/QuatFunc.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/Quat.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/functions/Mat4Func.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/Mat4.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/functions/EulerFunc.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/Euler.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/core/Transform.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/core/Camera.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/functions/Mat3Func.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/math/Mat3.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/core/Mesh.js", "../node_modules/.pnpm/ogl@1.0.3/node_modules/ogl/src/extras/Plane.js", "../src/gl/_camera.js", "../src/gl/mat/_quad/vertex.vert", "../src/gl/mat/_quad/fragment.frag", "../src/gl/mat/_quad/index.js", "../src/gl/_quad.js", "../src/gl/_scene.js", "../src/gl/gl.js", "../src/app.js"],
  "sourcesContent": ["// import { Text } from \"./animation/text\";\n// import { Track } from \"../util/track\";\n// import { Alpha } from \"./animation/alpha\";\n\nexport class Dom {\n  constructor() {\n    this.create();\n  }\n\n  resize() {}\n\n  render(t) {\n    // this.track?.render();\n  }\n\n  create() {\n    // this.texts = [\n    //   ...document.querySelectorAll(\n    //     '[data-a=\"char\"],[data-a=\"word\"],[data-a=\"line\"]'\n    //   ),\n    // ].map((el) => new Text({ element: el }));\n\n    this.start();\n  }\n\n  start() {\n    // this.texts?.forEach((text) => text.start());\n    // this.alpha?.start();\n    // this.track?.start();\n  }\n\n  destroy() {\n    // this.texts.forEach((text) => text.animateOut());\n  }\n\n  /* --  Pages */\n  transitionOut(page) {\n    // console.log(\"DOM::transitionOut\", page);\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, 100);\n    });\n  }\n\n  transitionIn(page) {\n    // console.log(\"DOM::transitionIn\", page);\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, 100);\n    });\n  }\n}\n", "export class Viewport {\n  constructor() {\n    this.resize();\n  }\n\n  resize() {\n    // set CSS vh var\n    document.documentElement.style.setProperty(\n      \"--100vh\",\n      `${window.innerHeight}px`\n    );\n  }\n}\n", "// Clamp a value between a minimum and maximum value\r\nexport function clamp(min, input, max) {\r\n  return Math.max(min, Math.min(input, max))\r\n}\r\n\r\n// Truncate a floating-point number to a specified number of decimal places\r\nexport function truncate(value, decimals = 0) {\r\n  return parseFloat(value.toFixed(decimals))\r\n}\r\n\r\n// Linearly interpolate between two values using an amount (0 <= t <= 1)\r\nexport function lerp(x, y, t) {\r\n  return (1 - t) * x + t * y\r\n}\r\n\r\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\r\nexport function damp(x, y, lambda, dt) {\r\n  return lerp(x, y, 1 - Math.exp(-lambda * dt))\r\n}\r\n\r\n// Calculate the modulo of the dividend and divisor while keeping the result within the same sign as the divisor\r\n// https://anguscroll.com/just/just-modulo\r\nexport function modulo(n, d) {\r\n  return ((n % d) + d) % d\r\n}\r\n", "import { clamp, damp } from './maths'\r\n\r\n// Animate class to handle value animations with lerping or easing\r\nexport class Animate {\r\n  // Advance the animation by the given delta time\r\n  advance(deltaTime) {\r\n    if (!this.isRunning) return\r\n\r\n    let completed = false\r\n\r\n    if (this.lerp) {\r\n      this.value = damp(this.value, this.to, this.lerp * 60, deltaTime)\r\n      if (Math.round(this.value) === this.to) {\r\n        this.value = this.to\r\n        completed = true\r\n      }\r\n    } else {\r\n      this.currentTime += deltaTime\r\n      const linearProgress = clamp(0, this.currentTime / this.duration, 1)\r\n\r\n      completed = linearProgress >= 1\r\n      const easedProgress = completed ? 1 : this.easing(linearProgress)\r\n      this.value = this.from + (this.to - this.from) * easedProgress\r\n    }\r\n\r\n    // Call the onUpdate callback with the current value and completed status\r\n\r\n    this.onUpdate?.(this.value, completed)\r\n\r\n    if (completed) {\r\n      this.stop()\r\n    }\r\n  }\r\n\r\n  // Stop the animation\r\n  stop() {\r\n    this.isRunning = false\r\n  }\r\n\r\n  // Set up the animation from a starting value to an ending value\r\n  // with optional parameters for lerping, duration, easing, and onUpdate callback\r\n  fromTo(\r\n    from,\r\n    to,\r\n    { lerp = 0.1, duration = 1, easing = (t) => t, onStart, onUpdate }\r\n  ) {\r\n    this.from = this.value = from\r\n    this.to = to\r\n    this.lerp = lerp\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.currentTime = 0\r\n    this.isRunning = true\r\n\r\n    onStart?.()\r\n    this.onUpdate = onUpdate\r\n  }\r\n}\r\n", "import { debounce } from './debounce'\r\n\r\nexport class Dimensions {\r\n  constructor({ wrapper, content, autoResize = true } = {}) {\r\n    this.wrapper = wrapper\r\n    this.content = content\r\n\r\n    if (autoResize) {\r\n      const resize = debounce(this.resize, 250)\r\n\r\n      if (this.wrapper !== window) {\r\n        this.wrapperResizeObserver = new ResizeObserver(resize)\r\n        this.wrapperResizeObserver.observe(this.wrapper)\r\n      }\r\n\r\n      this.contentResizeObserver = new ResizeObserver(resize)\r\n      this.contentResizeObserver.observe(this.content)\r\n    }\r\n\r\n    this.resize()\r\n  }\r\n\r\n  destroy() {\r\n    this.wrapperResizeObserver?.disconnect()\r\n    this.contentResizeObserver?.disconnect()\r\n  }\r\n\r\n  resize = () => {\r\n    this.onWrapperResize()\r\n    this.onContentResize()\r\n  }\r\n\r\n  onWrapperResize = () => {\r\n    if (this.wrapper === window) {\r\n      this.width = window.innerWidth\r\n      this.height = window.innerHeight\r\n    } else {\r\n      this.width = this.wrapper.clientWidth\r\n      this.height = this.wrapper.clientHeight\r\n    }\r\n  }\r\n\r\n  onContentResize = () => {\r\n    this.scrollHeight = this.content.scrollHeight\r\n    this.scrollWidth = this.content.scrollWidth\r\n  }\r\n\r\n  get limit() {\r\n    return {\r\n      x: this.scrollWidth - this.width,\r\n      y: this.scrollHeight - this.height,\r\n    }\r\n  }\r\n}\r\n", "export function debounce(callback, delay) {\r\n  let timer\r\n  return function () {\r\n    let args = arguments\r\n    let context = this\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      callback.apply(context, args)\r\n    }, delay)\r\n  }\r\n}\r\n", "export class Emitter {\r\n  constructor() {\r\n    this.events = {}\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    let callbacks = this.events[event] || []\r\n    for (let i = 0, length = callbacks.length; i < length; i++) {\r\n      callbacks[i](...args)\r\n    }\r\n  }\r\n\r\n  on(event, cb) {\r\n    // Add the callback to the event's callback list, or create a new list with the callback\r\n    this.events[event]?.push(cb) || (this.events[event] = [cb])\r\n\r\n    // Return an unsubscribe function\r\n    return () => {\r\n      this.events[event] = this.events[event]?.filter((i) => cb !== i)\r\n    }\r\n  }\r\n\r\n  off(event, callback) {\r\n    this.events[event] = this.events[event]?.filter((i) => callback !== i)\r\n  }\r\n\r\n  destroy() {\r\n    this.events = {}\r\n  }\r\n}\r\n", "import { Emitter } from './emitter'\r\nimport { clamp } from './maths'\r\n\r\nexport class VirtualScroll {\r\n  constructor(\r\n    element,\r\n    { wheelMultiplier = 1, touchMultiplier = 2, normalizeWheel = false }\r\n  ) {\r\n    this.element = element\r\n    this.wheelMultiplier = wheelMultiplier\r\n    this.touchMultiplier = touchMultiplier\r\n    this.normalizeWheel = normalizeWheel\r\n\r\n    this.touchStart = {\r\n      x: null,\r\n      y: null,\r\n    }\r\n\r\n    this.emitter = new Emitter()\r\n\r\n    this.element.addEventListener('wheel', this.onWheel, { passive: false })\r\n    this.element.addEventListener('touchstart', this.onTouchStart, {\r\n      passive: false,\r\n    })\r\n    this.element.addEventListener('touchmove', this.onTouchMove, {\r\n      passive: false,\r\n    })\r\n    this.element.addEventListener('touchend', this.onTouchEnd, {\r\n      passive: false,\r\n    })\r\n  }\r\n\r\n  // Add an event listener for the given event and callback\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  // Remove all event listeners and clean up\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    this.element.removeEventListener('wheel', this.onWheel, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchstart', this.onTouchStart, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchmove', this.onTouchMove, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchend', this.onTouchEnd, {\r\n      passive: false,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'touchstart' event\r\n  onTouchStart = (event) => {\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: 0,\r\n      y: 0,\r\n    }\r\n  }\r\n\r\n  // Event handler for 'touchmove' event\r\n  onTouchMove = (event) => {\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    const deltaX = -(clientX - this.touchStart.x) * this.touchMultiplier\r\n    const deltaY = -(clientY - this.touchStart.y) * this.touchMultiplier\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: deltaX,\r\n      y: deltaY,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX,\r\n      deltaY,\r\n      event,\r\n    })\r\n  }\r\n\r\n  onTouchEnd = (event) => {\r\n    this.emitter.emit('scroll', {\r\n      deltaX: this.lastDelta.x,\r\n      deltaY: this.lastDelta.y,\r\n      event,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'wheel' event\r\n  onWheel = (event) => {\r\n    let { deltaX, deltaY } = event\r\n\r\n    if (this.normalizeWheel) {\r\n      deltaX = clamp(-100, deltaX, 100)\r\n      deltaY = clamp(-100, deltaY, 100)\r\n    }\r\n\r\n    deltaX *= this.wheelMultiplier\r\n    deltaY *= this.wheelMultiplier\r\n\r\n    this.emitter.emit('scroll', { deltaX, deltaY, event })\r\n  }\r\n}\r\n", "import { version } from '../package.json'\r\nimport { Animate } from './animate'\r\nimport { Dimensions } from './dimensions'\r\nimport { Emitter } from './emitter'\r\nimport { clamp, modulo } from './maths'\r\nimport { VirtualScroll } from './virtual-scroll'\r\n\r\n// Technical explanation\r\n// - listen to 'wheel' events\r\n// - prevent 'wheel' event to prevent scroll\r\n// - normalize wheel delta\r\n// - add delta to targetScroll\r\n// - animate scroll to targetScroll (smooth context)\r\n// - if animation is not running, listen to 'scroll' events (native context)\r\n\r\nexport default class Lenis {\r\n  // isScrolling = true when scroll is animating\r\n  // isStopped = true if user should not be able to scroll - enable/disable programmatically\r\n  // isSmooth = true if scroll should be animated\r\n  // isLocked = same as isStopped but enabled/disabled when scroll reaches target\r\n\r\n  /**\r\n   * @typedef {(t: number) => number} EasingFunction\r\n   * @typedef {'vertical' | 'horizontal'} Orientation\r\n   * @typedef {'vertical' | 'horizontal' | 'both'} GestureOrientation\r\n   *\r\n   * @typedef LenisOptions\r\n   * @property {Window | HTMLElement} [wrapper]\r\n   * @property {HTMLElement} [content]\r\n   * @property {Window | HTMLElement} [wheelEventsTarget] // deprecated\r\n   * @property {Window | HTMLElement} [eventsTarget]\r\n   * @property {boolean} [smoothWheel]\r\n   * @property {boolean} [smoothTouch]\r\n   * @property {boolean} [syncTouch]\r\n   * @property {number} [syncTouchLerp]\r\n   * @property {number} [__iosNoInertiaSyncTouchLerp]\r\n   * @property {number} [touchInertiaMultiplier]\r\n   * @property {number} [duration]\r\n   * @property {EasingFunction} [easing]\r\n   * @property {number} [lerp]\r\n   * @property {boolean} [infinite]\r\n   * @property {Orientation} [orientation]\r\n   * @property {GestureOrientation} [gestureOrientation]\r\n   * @property {number} [touchMultiplier]\r\n   * @property {number} [wheelMultiplier]\r\n   * @property {boolean} [normalizeWheel]\r\n   * @property {boolean} [autoResize]\r\n   *\r\n   * @param {LenisOptions}\r\n   */\r\n  constructor({\r\n    wrapper = window,\r\n    content = document.documentElement,\r\n    wheelEventsTarget = wrapper, // deprecated\r\n    eventsTarget = wheelEventsTarget,\r\n    smoothWheel = true,\r\n    smoothTouch = false,\r\n    syncTouch = false,\r\n    syncTouchLerp = 0.1,\r\n    __iosNoInertiaSyncTouchLerp = 0.4, // should be 1 but had to leave 0.4 for iOS (testing purpose)\r\n    touchInertiaMultiplier = 35,\r\n    duration, // in seconds\r\n    easing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\r\n    lerp = !duration && 0.1,\r\n    infinite = false,\r\n    orientation = 'vertical', // vertical, horizontal\r\n    gestureOrientation = 'vertical', // vertical, horizontal, both\r\n    touchMultiplier = 1,\r\n    wheelMultiplier = 1,\r\n    normalizeWheel = false,\r\n    autoResize = true,\r\n  } = {}) {\r\n    window.lenisVersion = version\r\n\r\n    // if wrapper is html or body, fallback to window\r\n    if (wrapper === document.documentElement || wrapper === document.body) {\r\n      wrapper = window\r\n    }\r\n\r\n    this.options = {\r\n      wrapper,\r\n      content,\r\n      wheelEventsTarget,\r\n      eventsTarget,\r\n      smoothWheel,\r\n      smoothTouch,\r\n      syncTouch,\r\n      syncTouchLerp,\r\n      __iosNoInertiaSyncTouchLerp,\r\n      touchInertiaMultiplier,\r\n      duration,\r\n      easing,\r\n      lerp,\r\n      infinite,\r\n      gestureOrientation,\r\n      orientation,\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n      normalizeWheel,\r\n      autoResize,\r\n    }\r\n\r\n    this.animate = new Animate()\r\n    this.emitter = new Emitter()\r\n    this.dimensions = new Dimensions({ wrapper, content, autoResize })\r\n    this.toggleClass('lenis', true)\r\n\r\n    this.velocity = 0\r\n    this.isLocked = false\r\n    this.isStopped = false\r\n    this.isSmooth = syncTouch || smoothWheel || smoothTouch\r\n    this.isScrolling = false\r\n    this.targetScroll = this.animatedScroll = this.actualScroll\r\n\r\n    this.options.wrapper.addEventListener('scroll', this.onScroll, {\r\n      passive: false,\r\n    })\r\n\r\n    this.virtualScroll = new VirtualScroll(eventsTarget, {\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n      normalizeWheel,\r\n    })\r\n    this.virtualScroll.on('scroll', this.onVirtualScroll)\r\n  }\r\n\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    this.options.wrapper.removeEventListener('scroll', this.onScroll, {\r\n      passive: false,\r\n    })\r\n\r\n    this.virtualScroll.destroy()\r\n    this.dimensions.destroy()\r\n\r\n    this.toggleClass('lenis', false)\r\n    this.toggleClass('lenis-smooth', false)\r\n    this.toggleClass('lenis-scrolling', false)\r\n    this.toggleClass('lenis-stopped', false)\r\n    this.toggleClass('lenis-locked', false)\r\n  }\r\n\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  off(event, callback) {\r\n    return this.emitter.off(event, callback)\r\n  }\r\n\r\n  setScroll(scroll) {\r\n    // apply scroll value immediately\r\n    if (this.isHorizontal) {\r\n      this.rootElement.scrollLeft = scroll\r\n    } else {\r\n      this.rootElement.scrollTop = scroll\r\n    }\r\n  }\r\n\r\n  onVirtualScroll = ({ deltaX, deltaY, event }) => {\r\n    // keep zoom feature\r\n    if (event.ctrlKey) return\r\n\r\n    const isTouch = event.type.includes('touch')\r\n    const isWheel = event.type.includes('wheel')\r\n\r\n    if (\r\n      (this.options.gestureOrientation === 'both' &&\r\n        deltaX === 0 &&\r\n        deltaY === 0) || // \"touchend\" events prevents \"click\"\r\n      (this.options.gestureOrientation === 'vertical' && deltaY === 0) || // trackpad previous/next page gesture\r\n      (this.options.gestureOrientation === 'horizontal' && deltaX === 0) ||\r\n      (isTouch &&\r\n        this.options.gestureOrientation === 'vertical' &&\r\n        this.scroll === 0 &&\r\n        !this.options.infinite &&\r\n        deltaY <= 0) // touch pull to refresh\r\n    )\r\n      return\r\n\r\n    // catch if scrolling on nested scroll elements\r\n    let composedPath = event.composedPath()\r\n    composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement)) // remove parents elements\r\n\r\n    if (\r\n      !!composedPath.find(\r\n        (node) =>\r\n          node.hasAttribute?.('data-lenis-prevent') ||\r\n          (isTouch && node.hasAttribute?.('data-lenis-prevent-touch')) ||\r\n          (isWheel && node.hasAttribute?.('data-lenis-prevent-wheel')) ||\r\n          node.classList?.contains('lenis') // nested lenis instance\r\n      )\r\n    )\r\n      return\r\n\r\n    if (this.isStopped || this.isLocked) {\r\n      event.preventDefault()\r\n      return\r\n    }\r\n\r\n    this.isSmooth =\r\n      ((this.options.smoothTouch || this.options.syncTouch) && isTouch) ||\r\n      (this.options.smoothWheel && isWheel)\r\n\r\n    if (!this.isSmooth) {\r\n      this.isScrolling = false\r\n      this.animate.stop()\r\n      return\r\n    }\r\n\r\n    event.preventDefault()\r\n\r\n    let delta = deltaY\r\n    if (this.options.gestureOrientation === 'both') {\r\n      delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX\r\n    } else if (this.options.gestureOrientation === 'horizontal') {\r\n      delta = deltaX\r\n    }\r\n\r\n    const syncTouch = isTouch && this.options.syncTouch\r\n    const isTouchEnd = isTouch && event.type === 'touchend'\r\n    const hasTouchInertia = isTouchEnd && Math.abs(delta) > 1\r\n    if (hasTouchInertia) {\r\n      delta = this.velocity * this.options.touchInertiaMultiplier\r\n    }\r\n\r\n    this.scrollTo(this.targetScroll + delta, {\r\n      programmatic: false,\r\n      ...(syncTouch && {\r\n        lerp: hasTouchInertia\r\n          ? this.syncTouchLerp\r\n          : this.options.__iosNoInertiaSyncTouchLerp,\r\n      }),\r\n    })\r\n  }\r\n\r\n  resize() {\r\n    this.dimensions.resize()\r\n  }\r\n\r\n  emit() {\r\n    this.emitter.emit('scroll', this)\r\n  }\r\n\r\n  onScroll = () => {\r\n    if (!this.isScrolling) {\r\n      const lastScroll = this.animatedScroll\r\n      this.animatedScroll = this.targetScroll = this.actualScroll\r\n      this.velocity = 0\r\n      this.direction = Math.sign(this.animatedScroll - lastScroll)\r\n      this.emit()\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.isLocked = false\r\n    this.isScrolling = false\r\n    this.velocity = 0\r\n    this.animate.stop()\r\n  }\r\n\r\n  start() {\r\n    this.isStopped = false\r\n\r\n    this.reset()\r\n  }\r\n\r\n  stop() {\r\n    this.isStopped = true\r\n    this.animate.stop()\r\n\r\n    this.reset()\r\n  }\r\n\r\n  raf(time) {\r\n    const deltaTime = time - (this.time || time)\r\n    this.time = time\r\n\r\n    this.animate.advance(deltaTime * 0.001)\r\n  }\r\n\r\n  scrollTo(\r\n    target,\r\n    {\r\n      offset = 0,\r\n      immediate = false,\r\n      lock = false,\r\n      duration = this.options.duration,\r\n      easing = this.options.easing,\r\n      lerp = !duration && this.options.lerp,\r\n      onComplete = null,\r\n      force = false, // scroll even if stopped\r\n      programmatic = true, // called from outside of the class\r\n    } = {}\r\n  ) {\r\n    if ((this.isStopped || this.isLocked) && !force) return\r\n\r\n    // keywords\r\n    if (['top', 'left', 'start'].includes(target)) {\r\n      target = 0\r\n    } else if (['bottom', 'right', 'end'].includes(target)) {\r\n      target = this.limit\r\n    } else {\r\n      let node\r\n\r\n      if (typeof target === 'string') {\r\n        // CSS selector\r\n        node = document.querySelector(target)\r\n      } else if (target?.nodeType) {\r\n        // Node element\r\n        node = target\r\n      }\r\n\r\n      if (node) {\r\n        if (this.options.wrapper !== window) {\r\n          // nested scroll offset correction\r\n          const wrapperRect = this.options.wrapper.getBoundingClientRect()\r\n          offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top\r\n        }\r\n\r\n        const rect = node.getBoundingClientRect()\r\n\r\n        target =\r\n          (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll\r\n      }\r\n    }\r\n\r\n    if (typeof target !== 'number') return\r\n\r\n    target += offset\r\n    target = Math.round(target)\r\n\r\n    if (this.options.infinite) {\r\n      if (programmatic) {\r\n        this.targetScroll = this.animatedScroll = this.scroll\r\n      }\r\n    } else {\r\n      target = clamp(0, target, this.limit)\r\n    }\r\n\r\n    if (immediate) {\r\n      this.animatedScroll = this.targetScroll = target\r\n      this.setScroll(this.scroll)\r\n      this.reset()\r\n      onComplete?.(this)\r\n      return\r\n    }\r\n\r\n    if (!programmatic) {\r\n      if (target === this.targetScroll) return\r\n\r\n      this.targetScroll = target\r\n    }\r\n\r\n    this.animate.fromTo(this.animatedScroll, target, {\r\n      duration,\r\n      easing,\r\n      lerp,\r\n      onStart: () => {\r\n        // started\r\n        if (lock) this.isLocked = true\r\n        this.isScrolling = true\r\n      },\r\n      onUpdate: (value, completed) => {\r\n        this.isScrolling = true\r\n\r\n        // updated\r\n        this.velocity = value - this.animatedScroll\r\n        this.direction = Math.sign(this.velocity)\r\n\r\n        this.animatedScroll = value\r\n        this.setScroll(this.scroll)\r\n\r\n        if (programmatic) {\r\n          // wheel during programmatic should stop it\r\n          this.targetScroll = value\r\n        }\r\n\r\n        if (!completed) this.emit()\r\n\r\n        if (completed) {\r\n          // avoid emitting twice (onScroll)\r\n          requestAnimationFrame(() => {\r\n            this.reset()\r\n            this.emit()\r\n            onComplete?.(this)\r\n          })\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  get rootElement() {\r\n    return this.options.wrapper === window\r\n      ? this.options.content\r\n      : this.options.wrapper\r\n  }\r\n\r\n  get limit() {\r\n    return this.dimensions.limit[this.isHorizontal ? 'x' : 'y']\r\n  }\r\n\r\n  get isHorizontal() {\r\n    return this.options.orientation === 'horizontal'\r\n  }\r\n\r\n  get actualScroll() {\r\n    // value browser takes into account\r\n    return this.isHorizontal\r\n      ? this.rootElement.scrollLeft\r\n      : this.rootElement.scrollTop\r\n  }\r\n\r\n  get scroll() {\r\n    return this.options.infinite\r\n      ? modulo(this.animatedScroll, this.limit)\r\n      : this.animatedScroll\r\n  }\r\n\r\n  get progress() {\r\n    // avoid progress to be NaN\r\n    return this.limit === 0 ? 1 : this.scroll / this.limit\r\n  }\r\n\r\n  get isSmooth() {\r\n    return this.__isSmooth\r\n  }\r\n\r\n  set isSmooth(value) {\r\n    if (this.__isSmooth !== value) {\r\n      this.__isSmooth = value\r\n      this.toggleClass('lenis-smooth', value)\r\n    }\r\n  }\r\n\r\n  get isScrolling() {\r\n    return this.__isScrolling\r\n  }\r\n\r\n  set isScrolling(value) {\r\n    if (this.__isScrolling !== value) {\r\n      this.__isScrolling = value\r\n      this.toggleClass('lenis-scrolling', value)\r\n    }\r\n  }\r\n\r\n  get isStopped() {\r\n    return this.__isStopped\r\n  }\r\n\r\n  set isStopped(value) {\r\n    if (this.__isStopped !== value) {\r\n      this.__isStopped = value\r\n      this.toggleClass('lenis-stopped', value)\r\n    }\r\n  }\r\n\r\n  get isLocked() {\r\n    return this.__isLocked\r\n  }\r\n\r\n  set isLocked(value) {\r\n    if (this.__isLocked !== value) {\r\n      this.__isLocked = value\r\n      this.toggleClass('lenis-locked', value)\r\n    }\r\n  }\r\n\r\n  get className() {\r\n    let className = 'lenis'\r\n    if (this.isStopped) className += ' lenis-stopped'\r\n    if (this.isLocked) className += ' lenis-locked'\r\n    if (this.isScrolling) className += ' lenis-scrolling'\r\n    if (this.isSmooth) className += ' lenis-smooth'\r\n    return className\r\n  }\r\n\r\n  toggleClass(name, value) {\r\n    this.rootElement.classList.toggle(name, value)\r\n    this.emitter.emit('className change', this)\r\n  }\r\n}\r\n", "// https://easings.net/\n\nconst PI = Math.PI;\n\nexport function easeOutSine(x) {\n  return Math.sin((x * Math.PI) / 2);\n}\n\nexport function easeInOutSine(x) {\n  return -(Math.cos(PI * x) - 1) / 2;\n}\n\nexport function easeOutExpo(x) {\n  return x === 1 ? 1 : 1 - Math.pow(2, -10 * x);\n}\n\nexport function easeInOutExpo(x) {\n  return x === 0\n    ? 0\n    : x === 1\n    ? 1\n    : x < 0.5\n    ? Math.pow(2, 20 * x - 10) / 2\n    : (2 - Math.pow(2, -20 * x + 10)) / 2;\n}\n\nexport function easeOutBack(x) {\n  const c1 = 1.70158;\n  const c3 = c1 + 1;\n\n  return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\n}\n", "import Lenis from \"@studio-freight/lenis\";\nimport { easeOutExpo } from \"../util/easings.js\";\n\nconst lenisDefault = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t));\n\nexport class Scroll extends Lenis {\n  constructor() {\n    super({\n      lerp: 0.1,\n      infinite: true,\n      orientation: \"horizontal\",\n      gestureOrientation: \"both\",\n      normalizeWheel: false,\n      smoothTouch: false,\n    });\n\n    this.isActive = true;\n    this.callbacks = [];\n\n    // this.time = 0;\n\n    this.init();\n    window.sscroll = this;\n  }\n\n  init() {\n    this.y = window.scrollY;\n    this.max = window.innerHeight;\n    this.speed = 0;\n    this.percent = this.y / (document.body.scrollHeight - window.innerHeight);\n\n    this.on(\"scroll\", ({ scroll, limit, velocity, progress }) => {\n      this.y = scroll || 0;\n      this.max = limit || window.innerHeight;\n      this.speed = velocity || 0;\n      this.percent = progress || 0;\n\n      this.callbackRaf();\n    });\n  }\n\n  to(target) {\n    this.scrollTo(target, {\n      offset: 0,\n      duration: 0.8,\n      easing: easeOutExpo,\n      immediate: false,\n    });\n  }\n\n  resize() {}\n\n  render(t) {\n    if (!this.isActive) return;\n\n    this.raf(t);\n  }\n\n  set active(value) {\n    this.isActive = value;\n  }\n\n  callbackRaf() {\n    // call this in scroll method\n    this.callbacks.forEach((cb) => cb());\n  }\n\n  subscribe(callback) {\n    this.callbacks.push(callback);\n  }\n\n  unsubscribe(callback) {\n    this.callbacks = this.callbacks.filter((cb) => cb !== callback);\n  }\n\n  unsunbscribeAll() {\n    this.callbacks = [];\n  }\n}\n", "// Public: Create a new SelectorSet.\nexport default function SelectorSet() {\n  // Construct new SelectorSet if called as a function.\n  if (!(this instanceof SelectorSet)) {\n    return new SelectorSet();\n  }\n\n  // Public: Number of selectors added to the set\n  this.size = 0;\n\n  // Internal: Incrementing ID counter\n  this.uid = 0;\n\n  // Internal: Array of String selectors in the set\n  this.selectors = [];\n\n  // Internal: Map of selector ids to objects\n  this.selectorObjects = {};\n\n  // Internal: All Object index String names mapping to Index objects.\n  this.indexes = Object.create(this.indexes);\n\n  // Internal: Used Object index String names mapping to Index objects.\n  this.activeIndexes = [];\n}\n\n// Detect prefixed Element#matches function.\nvar docElem = window.document.documentElement;\nvar matches =\n  docElem.matches ||\n  docElem.webkitMatchesSelector ||\n  docElem.mozMatchesSelector ||\n  docElem.oMatchesSelector ||\n  docElem.msMatchesSelector;\n\n// Public: Check if element matches selector.\n//\n// Maybe overridden with custom Element.matches function.\n//\n// el       - An Element\n// selector - String CSS selector\n//\n// Returns true or false.\nSelectorSet.prototype.matchesSelector = function(el, selector) {\n  return matches.call(el, selector);\n};\n\n// Public: Find all elements in the context that match the selector.\n//\n// Maybe overridden with custom querySelectorAll function.\n//\n// selectors - String CSS selectors.\n// context   - Element context\n//\n// Returns non-live list of Elements.\nSelectorSet.prototype.querySelectorAll = function(selectors, context) {\n  return context.querySelectorAll(selectors);\n};\n\n// Public: Array of indexes.\n//\n// name     - Unique String name\n// selector - Function that takes a String selector and returns a String key\n//            or undefined if it can't be used by the index.\n// element  - Function that takes an Element and returns an Array of String\n//            keys that point to indexed values.\n//\nSelectorSet.prototype.indexes = [];\n\n// Index by element id\nvar idRe = /^#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'ID',\n  selector: function matchIdSelector(sel) {\n    var m;\n    if ((m = sel.match(idRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementId(el) {\n    if (el.id) {\n      return [el.id];\n    }\n  }\n});\n\n// Index by all of its class names\nvar classRe = /^\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'CLASS',\n  selector: function matchClassSelector(sel) {\n    var m;\n    if ((m = sel.match(classRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementClassNames(el) {\n    var className = el.className;\n    if (className) {\n      if (typeof className === 'string') {\n        return className.split(/\\s/);\n      } else if (typeof className === 'object' && 'baseVal' in className) {\n        // className is a SVGAnimatedString\n        // global SVGAnimatedString is not an exposed global in Opera 12\n        return className.baseVal.split(/\\s/);\n      }\n    }\n  }\n});\n\n// Index by tag/node name: `DIV`, `FORM`, `A`\nvar tagRe = /^((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'TAG',\n  selector: function matchTagSelector(sel) {\n    var m;\n    if ((m = sel.match(tagRe))) {\n      return m[0].toUpperCase();\n    }\n  },\n  element: function getElementTagName(el) {\n    return [el.nodeName.toUpperCase()];\n  }\n});\n\n// Default index just contains a single array of elements.\nSelectorSet.prototype.indexes['default'] = {\n  name: 'UNIVERSAL',\n  selector: function() {\n    return true;\n  },\n  element: function() {\n    return [true];\n  }\n};\n\n// Use ES Maps when supported\nvar Map;\nif (typeof window.Map === 'function') {\n  Map = window.Map;\n} else {\n  Map = (function() {\n    function Map() {\n      this.map = {};\n    }\n    Map.prototype.get = function(key) {\n      return this.map[key + ' '];\n    };\n    Map.prototype.set = function(key, value) {\n      this.map[key + ' '] = value;\n    };\n    return Map;\n  })();\n}\n\n// Regexps adopted from Sizzle\n//   https://github.com/jquery/sizzle/blob/1.7/sizzle.js\n//\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n\n// Internal: Get indexes for selector.\n//\n// selector - String CSS selector\n//\n// Returns Array of {index, key}.\nfunction parseSelectorIndexes(allIndexes, selector) {\n  allIndexes = allIndexes.slice(0).concat(allIndexes['default']);\n\n  var allIndexesLen = allIndexes.length,\n    i,\n    j,\n    m,\n    dup,\n    rest = selector,\n    key,\n    index,\n    indexes = [];\n\n  do {\n    chunker.exec('');\n    if ((m = chunker.exec(rest))) {\n      rest = m[3];\n      if (m[2] || !rest) {\n        for (i = 0; i < allIndexesLen; i++) {\n          index = allIndexes[i];\n          if ((key = index.selector(m[1]))) {\n            j = indexes.length;\n            dup = false;\n            while (j--) {\n              if (indexes[j].index === index && indexes[j].key === key) {\n                dup = true;\n                break;\n              }\n            }\n            if (!dup) {\n              indexes.push({ index: index, key: key });\n            }\n            break;\n          }\n        }\n      }\n    }\n  } while (m);\n\n  return indexes;\n}\n\n// Internal: Find first item in Array that is a prototype of `proto`.\n//\n// ary   - Array of objects\n// proto - Prototype of expected item in `ary`\n//\n// Returns object from `ary` if found. Otherwise returns undefined.\nfunction findByPrototype(ary, proto) {\n  var i, len, item;\n  for (i = 0, len = ary.length; i < len; i++) {\n    item = ary[i];\n    if (proto.isPrototypeOf(item)) {\n      return item;\n    }\n  }\n}\n\n// Public: Log when added selector falls under the default index.\n//\n// This API should not be considered stable. May change between\n// minor versions.\n//\n// obj - {selector, data} Object\n//\n//   SelectorSet.prototype.logDefaultIndexUsed = function(obj) {\n//     console.warn(obj.selector, \"could not be indexed\");\n//   };\n//\n// Returns nothing.\nSelectorSet.prototype.logDefaultIndexUsed = function() {};\n\n// Public: Add selector to set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.add = function(selector, data) {\n  var obj,\n    i,\n    indexProto,\n    key,\n    index,\n    objs,\n    selectorIndexes,\n    selectorIndex,\n    indexes = this.activeIndexes,\n    selectors = this.selectors,\n    selectorObjects = this.selectorObjects;\n\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  obj = {\n    id: this.uid++,\n    selector: selector,\n    data: data\n  };\n  selectorObjects[obj.id] = obj;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n    key = selectorIndex.key;\n    indexProto = selectorIndex.index;\n\n    index = findByPrototype(indexes, indexProto);\n    if (!index) {\n      index = Object.create(indexProto);\n      index.map = new Map();\n      indexes.push(index);\n    }\n\n    if (indexProto === this.indexes['default']) {\n      this.logDefaultIndexUsed(obj);\n    }\n    objs = index.map.get(key);\n    if (!objs) {\n      objs = [];\n      index.map.set(key, objs);\n    }\n    objs.push(obj);\n  }\n\n  this.size++;\n  selectors.push(selector);\n};\n\n// Public: Remove selector from set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.remove = function(selector, data) {\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  var selectorIndexes,\n    selectorIndex,\n    i,\n    j,\n    k,\n    selIndex,\n    objs,\n    obj,\n    indexes = this.activeIndexes,\n    selectors = (this.selectors = []),\n    selectorObjects = this.selectorObjects,\n    removedIds = {},\n    removeAll = arguments.length === 1;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n\n    j = indexes.length;\n    while (j--) {\n      selIndex = indexes[j];\n      if (selectorIndex.index.isPrototypeOf(selIndex)) {\n        objs = selIndex.map.get(selectorIndex.key);\n        if (objs) {\n          k = objs.length;\n          while (k--) {\n            obj = objs[k];\n            if (obj.selector === selector && (removeAll || obj.data === data)) {\n              objs.splice(k, 1);\n              removedIds[obj.id] = true;\n            }\n          }\n        }\n        break;\n      }\n    }\n  }\n\n  for (i in removedIds) {\n    delete selectorObjects[i];\n    this.size--;\n  }\n\n  for (i in selectorObjects) {\n    selectors.push(selectorObjects[i].selector);\n  }\n};\n\n// Sort by id property handler.\n//\n// a - Selector obj.\n// b - Selector obj.\n//\n// Returns Number.\nfunction sortById(a, b) {\n  return a.id - b.id;\n}\n\n// Public: Find all matching decendants of the context element.\n//\n// context - An Element\n//\n// Returns Array of {selector, data, elements} matches.\nSelectorSet.prototype.queryAll = function(context) {\n  if (!this.selectors.length) {\n    return [];\n  }\n\n  var matches = {},\n    results = [];\n  var els = this.querySelectorAll(this.selectors.join(', '), context);\n\n  var i, j, len, len2, el, m, match, obj;\n  for (i = 0, len = els.length; i < len; i++) {\n    el = els[i];\n    m = this.matches(el);\n    for (j = 0, len2 = m.length; j < len2; j++) {\n      obj = m[j];\n      if (!matches[obj.id]) {\n        match = {\n          id: obj.id,\n          selector: obj.selector,\n          data: obj.data,\n          elements: []\n        };\n        matches[obj.id] = match;\n        results.push(match);\n      } else {\n        match = matches[obj.id];\n      }\n      match.elements.push(el);\n    }\n  }\n\n  return results.sort(sortById);\n};\n\n// Public: Match element against all selectors in set.\n//\n// el - An Element\n//\n// Returns Array of {selector, data} matches.\nSelectorSet.prototype.matches = function(el) {\n  if (!el) {\n    return [];\n  }\n\n  var i, j, k, len, len2, len3, index, keys, objs, obj, id;\n  var indexes = this.activeIndexes,\n    matchedIds = {},\n    matches = [];\n\n  for (i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    keys = index.element(el);\n    if (keys) {\n      for (j = 0, len2 = keys.length; j < len2; j++) {\n        if ((objs = index.map.get(keys[j]))) {\n          for (k = 0, len3 = objs.length; k < len3; k++) {\n            obj = objs[k];\n            id = obj.id;\n            if (!matchedIds[id] && this.matchesSelector(el, obj.selector)) {\n              matchedIds[id] = true;\n              matches.push(obj);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return matches.sort(sortById);\n};\n", "/**\r\n * Holds the SelectorSets for each event type\r\n * @type {{}}\r\n */\r\nconst eventTypes = {}\r\n\r\n/**\r\n * Holds Bus event stacks\r\n * @type {{}}\r\n */\r\nconst listeners = {}\r\n\r\n/**\r\n * Events that don't bubble\r\n * @type {string[]}\r\n */\r\nconst nonBubblers = ['mouseenter', 'mouseleave', 'pointerenter', 'pointerleave', 'blur', 'focus']\r\n\r\n/**\r\n * Make a bus stack if not already created.\r\n *\r\n * @param {string} event\r\n */\r\nfunction makeBusStack(event) {\r\n    if (listeners[event] === undefined) {\r\n        listeners[event] = new Set()\r\n    }\r\n}\r\n\r\n/**\r\n * Trigger a bus stack.\r\n *\r\n * @param {string} event\r\n * @param args\r\n */\r\nfunction triggerBus(event, args) {\r\n    if (listeners[event]) {\r\n        listeners[event].forEach(cb => {\r\n            cb(...args)\r\n        })\r\n    }\r\n}\r\n\r\n/**\r\n * Maybe run querySelectorAll if input is a string.\r\n *\r\n * @param {HTMLElement|Element|string} el\r\n * @returns {NodeListOf<Element>}\r\n */\r\nfunction maybeRunQuerySelector(el) {\r\n    return typeof el === 'string' ? document.querySelectorAll(el) : el\r\n}\r\n\r\n/**\r\n * Handle delegated events\r\n *\r\n * @param {Event} e\r\n */\r\nfunction handleDelegation(e) {\r\n    let matches = traverse(eventTypes[e.type], e.target)\r\n\r\n    if (matches.length) {\r\n        for (let i = 0; i < matches.length; i++) {\r\n            for (let i2 = 0; i2 < matches[i].stack.length; i2++) {\r\n                if (nonBubblers.indexOf(e.type) !== -1) {\r\n                    addDelegateTarget(e, matches[i].delegatedTarget)\r\n                    if (e.target === matches[i].delegatedTarget) {\r\n                        matches[i].stack[i2].data(e)\r\n                    }\r\n                } else {\r\n                    addDelegateTarget(e, matches[i].delegatedTarget)\r\n                    matches[i].stack[i2].data(e)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Find a matching selector for delegation\r\n *\r\n * @param {SelectorSet} listeners\r\n * @param {HTMLElement|Element|EventTarget} target\r\n * @returns {[]}\r\n */\r\nfunction traverse(listeners, target) {\r\n    const queue = []\r\n    let node = target\r\n\r\n    do {\r\n        if (node.nodeType !== 1) {\r\n            break\r\n        }\r\n\r\n        const matches = listeners.matches(node)\r\n\r\n        if (matches.length) {\r\n            queue.push({delegatedTarget: node, stack: matches})\r\n        }\r\n    } while ((node = node.parentElement))\r\n\r\n    return queue\r\n}\r\n\r\n/**\r\n * Add delegatedTarget attribute to dispatched delegated events\r\n *\r\n * @param {Event} event\r\n * @param {HTMLElement|Element} delegatedTarget\r\n */\r\nfunction addDelegateTarget(event, delegatedTarget) {\r\n    Object.defineProperty(event, 'currentTarget', {\r\n        configurable: true,\r\n        enumerable: true,\r\n\t\tget: () => delegatedTarget\r\n    })\r\n}\r\n\r\n/**\r\n * Creates a deep clone of an object.\r\n *\r\n * @param object\r\n * @returns {Object.<string, array>}\r\n */\r\nfunction clone(object) {\r\n    const copy = {}\r\n\r\n    for (const key in object) {\r\n        copy[key] = [...object[key]]\r\n    }\r\n\r\n\treturn copy\r\n}\r\n\r\nexport {\r\n    eventTypes,\r\n    listeners,\r\n    nonBubblers,\r\n    makeBusStack,\r\n    triggerBus,\r\n    maybeRunQuerySelector,\r\n    handleDelegation,\r\n    clone\r\n}\r\n", "import SelectorSet from 'selector-set'\nimport {\n    clone,\n    eventTypes,\n    handleDelegation,\n    listeners,\n    makeBusStack,\n    maybeRunQuerySelector,\n    nonBubblers,\n    triggerBus\n} from './utils'\n\n/**\n * Public API\n */\nclass E {\n    /**\n     * Binds all provided methods to a provided context.\n     *\n     * @param {object} context\n     * @param {string[]} [methods] Optional.\n     */\n    bindAll(context, methods) {\n        if (!methods) {\n            methods = Object.getOwnPropertyNames(Object.getPrototypeOf(context))\n        }\n\n        for (let i = 0; i < methods.length; i++) {\n            context[methods[i]] = context[methods[i]].bind(context)\n        }\n    }\n\n    /**\n     * Bind event to a string, NodeList, or element.\n     *\n     * @param {string} event\n     * @param {string|NodeList|NodeListOf<Element>|HTMLElement|HTMLElement[]|Window|Document|function} el\n     * @param {*} [callback]\n     * @param {{}|boolean} [options]\n     */\n    on(event, el, callback, options) {\n        const events = event.split(' ')\n\n        for (let i = 0; i < events.length; i++) {\n            if (typeof el === 'function' && callback === undefined) {\n                makeBusStack(events[i])\n                listeners[events[i]].add(el)\n                continue\n            }\n\n            if (el.nodeType && el.nodeType === 1 || el === window || el === document) {\n                el.addEventListener(events[i], callback, options)\n                continue\n            }\n\n            el = maybeRunQuerySelector(el)\n\n            for (let n = 0; n < el.length; n++) {\n                el[n].addEventListener(events[i], callback, options)\n            }\n        }\n    }\n\n    /**\n     * Add a delegated event.\n     *\n     * @param {string} event\n     * @param {string|NodeList|HTMLElement|Element} delegate\n     * @param {*} [callback]\n     */\n    delegate(event, delegate, callback) {\n        const events = event.split(' ')\n\n        for (let i = 0; i < events.length; i++) {\n            let map = eventTypes[events[i]]\n\n            if (map === undefined) {\n                map = new SelectorSet()\n                eventTypes[events[i]] = map\n\n                if (nonBubblers.indexOf(events[i]) !== -1) {\n                    document.addEventListener(events[i], handleDelegation, true)\n                } else {\n                    document.addEventListener(events[i], handleDelegation)\n                }\n            }\n\n            map.add(delegate, callback)\n        }\n    }\n\n    /**\n     * Remove a callback from a DOM element, or one or all Bus events.\n     *\n     * @param {string} event\n     * @param {string|NodeList|HTMLElement|Element|Window|undefined} [el]\n     * @param {*} [callback]\n     * @param {{}|boolean} [options]\n     */\n    off(event, el, callback, options) {\n        const events = event.split(' ')\n\n        for (let i = 0; i < events.length; i++) {\n            if (el === undefined) {\n                listeners[events[i]]?.clear()\n                continue\n            }\n\n            if (typeof el === 'function') {\n                makeBusStack(events[i])\n                listeners[events[i]].delete(el)\n                continue\n            }\n\n            const map = eventTypes[events[i]]\n\n            if (map !== undefined) {\n                map.remove(el, callback)\n\n                if (map.size === 0) {\n                    delete eventTypes[events[i]]\n\n                    if (nonBubblers.indexOf(events[i]) !== -1) {\n                        document.removeEventListener(events[i], handleDelegation, true)\n                    } else {\n                        document.removeEventListener(events[i], handleDelegation)\n                    }\n                    continue\n                }\n            }\n\n            if (el.removeEventListener !== undefined) {\n                el.removeEventListener(events[i], callback, options)\n                continue\n            }\n\n            el = maybeRunQuerySelector(el)\n\n            for (let n = 0; n < el.length; n++) {\n                el[n].removeEventListener(events[i], callback, options)\n            }\n        }\n    }\n\n    /**\n     * Emit a Bus event.\n     *\n     * @param {string} event\n     * @param {...*} args\n     */\n    emit(event, ...args) {\n        triggerBus(event, args)\n    }\n\n    /**\n     * Return a clone of the delegated event stack for debugging.\n     *\n     * @returns {Object.<string, array>}\n     */\n    debugDelegated() {\n        return JSON.parse(JSON.stringify(eventTypes))\n    }\n\n    /**\n     * Return a clone of the bus event stack for debugging.\n     *\n     * @returns {Object.<string, array>}\n     */\n    debugBus() {\n        return clone(listeners)\n    }\n\n    /**\n     * Checks if a given bus event has listeners.\n     *\n     * @param {string} event\n     * @returns {boolean}\n     */\n    hasBus(event) {\n        return this.debugBus().hasOwnProperty(event)\n    }\n}\n\nconst instance = new E()\nexport default instance\n", "const parser = new DOMParser()\n\n/**\n * Parse a HTML string into a proper Document.\n * @param {string|Document} html\n * @return {Document|*}\n */\nexport function parseDom(html) {\n\treturn typeof html === 'string' ? parser.parseFromString(html, 'text/html') : html\n}\n\n/**\n * Extract details from a given URL string. Assumed to be on the current TLD.\n * @param {string} url\n * @return {{raw: string, href: string, host: string, hasHash: boolean, pathname: string}}\n */\nexport function processUrl(url) {\n\tconst details = new URL(url, window.location.origin)\n\tlet normalized = null\n\n\tif (details.hash.length) {\n\t\tnormalized = url.replace(details.hash, '')\n\t}\n\n\treturn {\n\t\thasHash: details.hash.length > 0,\n\t\tpathname: details.pathname,\n\t\thost: details.host,\n\t\traw: url,\n\t\thref: normalized || details.href\n\t}\n}\n\n/**\n * Reloads a provided script/stylesheet by replacing with itself.\n * @param {HTMLElement|HTMLScriptElement} node\n */\nexport function reloadScript(node) {\n\tnode.parentNode.replaceChild(duplicateScript(node), node)\n}\n\n/**\n * Loads a provided script/stylesheet by appending a clone to the current document.\n * @param {HTMLElement} node\n */\nexport function appendScript(node) {\n\tif (node.parentNode.tagName === 'HEAD') {\n\t\tdocument.head.appendChild(duplicateScript(node))\n\t} else {\n\t\tdocument.body.appendChild(duplicateScript(node))\n\t}\n}\n\n/**\n * Creates a clone of a given HTMLElement\n * @param {HTMLElement} node\n * @return {HTMLElement}\n */\nexport function duplicateScript(node) {\n\tconst replacement = document.createElement('SCRIPT')\n\n\t// Loop Over Attributes\n\tfor (let k = 0; k < node.attributes.length; k++) {\n\t\t// Get Attribute\n\t\tconst attr = node.attributes[k]\n\n\t\t// Set Attribute\n\t\treplacement.setAttribute(attr.nodeName, attr.nodeValue)\n\t}\n\n\t// Inline Script\n\tif (node.innerHTML) {\n\t\treplacement.innerHTML = node.innerHTML\n\t}\n\n\treturn replacement\n}\n", "export default class Transition {\n\t/**\n\t * @param {{wrapper: HTMLElement}} props\n\t */\n\tconstructor({ wrapper }) {\n\t\tthis.wrapper = wrapper\n\t}\n\n\t/**\n\t * @param {{ from: HTMLElement|Element, trigger: string|HTMLElement|false }} props\n\t * @return {Promise<void>}\n\t */\n\tleave(props) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onLeave({ ...props, done: resolve })\n\t\t})\n\t}\n\n\t/**\n\t * @param {{ to: HTMLElement|Element, trigger: string|HTMLElement|false }} props\n\t * @return {Promise<void>}\n\t */\n\tenter(props) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onEnter({ ...props, done: resolve })\n\t\t})\n\t}\n\n\t/**\n\t * Handle the transition leaving the previous page.\n\t * @param {{from: HTMLElement|Element, trigger: string|HTMLElement|false, done: function}} props\n\t */\n\tonLeave({ from, trigger, done }) {\n\t\tdone()\n\t}\n\n\t/**\n\t * Handle the transition entering the next page.\n\t * @param {{to: HTMLElement|Element, trigger: string|HTMLElement|false, done: function}} props\n\t */\n\tonEnter({ to, trigger, done }) {\n\t\tdone()\n\t}\n}\n", "import Transition from \"./Transition\"\n\nexport default class Renderer {\n\t/**\n\t * @param {{content: HTMLElement|Element, page: Document|Node, title: string, wrapper: Element}} props\n\t */\n\tconstructor({ content, page, title, wrapper }) {\n\t\tthis._contentString = content.outerHTML\n\t\tthis._DOM = null\n\t\tthis.page = page\n\t\tthis.title = title\n\t\tthis.wrapper = wrapper\n\t\tthis.content = this.wrapper.lastElementChild\n\t}\n\n\tonEnter() {\n\n\t}\n\n\tonEnterCompleted() {\n\n\t}\n\n\tonLeave() {\n\n\t}\n\n\tonLeaveCompleted() {\n\n\t}\n\n\tinitialLoad() {\n\t\tthis.onEnter()\n\t\tthis.onEnterCompleted()\n\t}\n\n\tupdate() {\n\t\tdocument.title = this.title\n\t\tthis.wrapper.appendChild(this._DOM.firstElementChild)\n\t\tthis.content = this.wrapper.lastElementChild\n\t\tthis._DOM = null\n\t}\n\n\tcreateDom() {\n\t\tif (!this._DOM) {\n\t\t\tthis._DOM = document.createElement('div')\n\t\t\tthis._DOM.innerHTML = this._contentString\n\t\t}\n\t}\n\n\tremove() {\n\t\tthis.wrapper.firstElementChild.remove()\n\t}\n\n\t/**\n\t * Called when transitioning into the current page.\n\t * @param {Transition} transition\n\t * @param {string|HTMLElement|false} trigger\n\t * @return {Promise<null>}\n\t */\n\tenter(transition, trigger) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onEnter()\n\n\t\t\ttransition.enter({ trigger, to: this.content })\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.onEnterCompleted()\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Called when transitioning away from the current page.\n\t * @param {Transition} transition\n\t * @param {string|HTMLElement|false} trigger\n\t * @param {boolean} removeOldContent\n\t * @return {Promise<null>}\n\t */\n\tleave(transition, trigger, removeOldContent) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onLeave()\n\n\t\t\ttransition.leave({ trigger, from: this.content })\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (removeOldContent) {\n\t\t\t\t\t\tthis.remove()\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.onLeaveCompleted()\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n}\n", "export default class RouteStore {\n\t/**\n\t * @type {Map<string, Map<string, string>>}\n\t */\n\tdata = new Map()\n\n\t/**\n\t * @type {Map<string, RegExp>}\n\t */\n\tregexCache = new Map()\n\n\t/**\n\t *\n\t * @param {string} fromPattern\n\t * @param {string} toPattern\n\t * @param {string} transition\n\t */\n\tadd(fromPattern, toPattern, transition) {\n\t\tif (!this.data.has(fromPattern)) {\n\t\t\tthis.data.set(fromPattern, new Map())\n\t\t\tthis.regexCache.set(fromPattern, new RegExp(`^${fromPattern}$`))\n\t\t}\n\n\t\tthis.data.get(fromPattern).set(toPattern, transition)\n\t\tthis.regexCache.set(toPattern, new RegExp(`^${toPattern}$`))\n\t}\n\n\t/**\n\t *\n\t * @param {{ raw: string, href: string, hasHash: boolean, pathname: string }} currentUrl\n\t * @param {{ raw: string, href: string, hasHash: boolean, pathname: string }} nextUrl\n\t * @return {string|null}\n\t */\n\tfindMatch(currentUrl, nextUrl) {\n\t\t// Loop through all from patterns\n\t\tfor (const [fromPattern, potentialMatches] of this.data) {\n\t\t\t// If we have a match\n\t\t\tif (currentUrl.pathname.match(this.regexCache.get(fromPattern))) {\n\t\t\t\t// loop through all associated to patterns\n\t\t\t\tfor (const [toPattern, transition] of potentialMatches) {\n\t\t\t\t\t// If we find a match, return it\n\t\t\t\t\tif (nextUrl.pathname.match(this.regexCache.get(toPattern))) {\n\t\t\t\t\t\treturn transition\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n}\n", "import E from '@unseenco/e'\nimport { appendScript, parseDom, processUrl, reloadScript } from './helpers'\nimport Transition from './Transition'\nimport Renderer from './Renderer'\nimport RouteStore from './RouteStore'\n\nconst IN_PROGRESS = 'A transition is currently in progress'\n\n/**\n * @typedef CacheEntry\n * @type {object}\n * @property {typeof Renderer|Renderer} renderer\n * @property {Document|Node} page\n * @property {array} scripts\n * @property {HTMLLinkElement[]} styles\n * @property {string} finalUrl\n * @property {boolean} skipCache\n * @property {string} title\n * @property {HTMLElement|Element} content\n */\n\nexport default class Core {\n\tisTransitioning = false\n\n\t/**\n\t * @type {CacheEntry|null}\n\t */\n\tcurrentCacheEntry = null\n\n\t/**\n\t * @type {Map<string, CacheEntry>}\n\t */\n\tcache = new Map()\n\n\t/**\n\t * @private\n\t * @type {Map<string, Promise>}\n\t */\n\tactivePromises = new Map()\n\n\t/**\n\t * @param {{\n\t * \t\tlinks?: string,\n\t * \t\tremoveOldContent?: boolean,\n\t * \t\tallowInterruption?: boolean,\n\t * \t\tbypassCache?: boolean,\n\t * \t\tenablePrefetch?: boolean,\n\t * \t\trenderers?: Object.<string, typeof Renderer>,\n\t * \t\ttransitions?: Object.<string, typeof Transition>,\n\t * \t\treloadJsFilter?: boolean|function(HTMLElement): boolean,\n\t * \t\treloadCssFilter?: boolean|function(HTMLLinkElement): boolean\n\t * }} parameters\n\t */\n\tconstructor(parameters = {}) {\n\t\tconst {\n\t\t\tlinks = 'a:not([target]):not([href^=\\\\#]):not([data-taxi-ignore])',\n\t\t\tremoveOldContent = true,\n\t\t\tallowInterruption = false,\n\t\t\tbypassCache = false,\n\t\t\tenablePrefetch = true,\n\t\t\trenderers = {\n\t\t\t\tdefault: Renderer\n\t\t\t},\n\t\t\ttransitions = {\n\t\t\t\tdefault: Transition\n\t\t\t},\n\t\t\treloadJsFilter = (element) => element.dataset.taxiReload !== undefined,\n\t\t\treloadCssFilter = (element) => true //element.dataset.taxiReload !== undefined\n\t\t} = parameters\n\n\t\tthis.renderers = renderers\n\t\tthis.transitions = transitions\n\t\tthis.defaultRenderer = this.renderers.default || Renderer\n\t\tthis.defaultTransition = this.transitions.default || Transition\n\t\tthis.wrapper = document.querySelector('[data-taxi]')\n\t\tthis.reloadJsFilter = reloadJsFilter\n\t\tthis.reloadCssFilter = reloadCssFilter\n\t\tthis.removeOldContent = removeOldContent\n\t\tthis.allowInterruption = allowInterruption\n\t\tthis.bypassCache = bypassCache\n\t\tthis.enablePrefetch = enablePrefetch\n\t\tthis.cache = new Map()\n\t\tthis.isPopping = false\n\n\t\t// Add delegated link events\n\t\tthis.attachEvents(links)\n\n\t\tthis.currentLocation = processUrl(window.location.href)\n\n\t\t// as this is the initial page load, prime this page into the cache\n\t\tthis.cache.set(this.currentLocation.href, this.createCacheEntry(document.cloneNode(true), window.location.href))\n\n\t\t// fire the current Renderer enter methods\n\t\tthis.currentCacheEntry = this.cache.get(this.currentLocation.href)\n\t\tthis.currentCacheEntry.renderer.initialLoad()\n\t}\n\n\t/**\n\t * @param {string} renderer\n\t */\n\tsetDefaultRenderer(renderer) {\n\t\tthis.defaultRenderer = this.renderers[renderer]\n\t}\n\n\t/**\n\t * @param {string} transition\n\t */\n\tsetDefaultTransition(transition) {\n\t\tthis.defaultTransition = this.transitions[transition]\n\t}\n\n\t/**\n\t * Registers a route into the RouteStore\n\t *\n\t * @param {string} fromPattern\n\t * @param {string} toPattern\n\t * @param {string} transition\n\t */\n\taddRoute(fromPattern, toPattern, transition) {\n\t\tif (!this.router) {\n\t\t\tthis.router = new RouteStore()\n\t\t}\n\n\t\tthis.router.add(fromPattern, toPattern, transition)\n\t}\n\n\t/**\n\t * Prime the cache for a given URL\n\t *\n\t * @param {string} url\n\t * @param {boolean} [preloadAssets]\n\t * @return {Promise}\n\t */\n\tpreload(url, preloadAssets = false) {\n\t\t// convert relative URLs to absolute\n\t\turl = processUrl(url).href\n\n\t\tif (!this.cache.has(url)) {\n\t\t\treturn this.fetch(url, false)\n\t\t\t\t.then(async (response) => {\n\t\t\t\t\tthis.cache.set(url, this.createCacheEntry(response.html, response.url))\n\n\t\t\t\t\tif (preloadAssets) {\n\t\t\t\t\t\tthis.cache.get(url).renderer.createDom()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\n\t\treturn Promise.resolve()\n\t}\n\n\t/**\n\t * Updates the HTML cache for a given URL.\n\t * If no URL is passed, then cache for the current page is updated.\n\t * Useful when adding/removing content via AJAX such as a search page or infinite loader.\n\t *\n\t * @param {string} [url]\n\t */\n\tupdateCache(url) {\n\t\tconst key = processUrl(url || window.location.href).href\n\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.delete(key)\n\t\t}\n\n\t\tthis.cache.set(key, this.createCacheEntry(document.cloneNode(true), key))\n\t}\n\n\t/**\n\t * Clears the cache for a given URL.\n\t * If no URL is passed, then cache for the current page is cleared.\n\t *\n\t * @param {string} [url]\n\t */\n\tclearCache(url) {\n\t\tconst key = processUrl(url || window.location.href).href\n\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.delete(key)\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} url\n\t * @param {string|false} [transition]\n\t * @param {string|false|HTMLElement} [trigger]\n\t * @return {Promise<void|Error>}\n\t */\n\tnavigateTo(url, transition = false, trigger = false) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// Don't allow multiple navigations to occur at once\n\t\t\tif (!this.allowInterruption && this.isTransitioning) {\n\t\t\t\treject(new Error(IN_PROGRESS))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.isTransitioning = true\n\t\t\tthis.isPopping = true\n\t\t\tthis.targetLocation = processUrl(url)\n\t\t\tthis.popTarget = window.location.href\n\n\t\t\tconst TransitionClass = new (this.chooseTransition(transition))({ wrapper: this.wrapper })\n\n\t\t\tlet navigationPromise\n\n\t\t\tif (this.bypassCache || !this.cache.has(this.targetLocation.href) || this.cache.get(this.targetLocation.href).skipCache) {\n\t\t\t\tconst fetched = this.fetch(this.targetLocation.href)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.cache.set(this.targetLocation.href, this.createCacheEntry(response.html, response.url))\n\t\t\t\t\t\tthis.cache.get(this.targetLocation.href).renderer.createDom()\n\t\t\t\t\t})\n\n\t\t\t\tnavigationPromise = this.beforeFetch(this.targetLocation, TransitionClass, trigger)\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\treturn fetched.then(async () => {\n\t\t\t\t\t\t\treturn await this.afterFetch(this.targetLocation, TransitionClass, this.cache.get(this.targetLocation.href), trigger)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.cache.get(this.targetLocation.href).renderer.createDom()\n\n\t\t\t\tnavigationPromise = this.beforeFetch(this.targetLocation, TransitionClass, trigger)\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\treturn await this.afterFetch(this.targetLocation, TransitionClass, this.cache.get(this.targetLocation.href), trigger)\n\t\t\t\t\t})\n\t\t\t}\n\n\t\t\tnavigationPromise.then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Add an event listener.\n\t * @param {string} event\n\t * @param {any} callback\n\t */\n\ton(event, callback) {\n\t\tE.on(event, callback)\n\t}\n\n\t/**\n\t * Remove an event listener.\n\t * @param {string} event\n\t * @param {any} [callback]\n\t */\n\toff(event, callback) {\n\t\tE.off(event, callback)\n\t}\n\n\t/**\n\t * @private\n\t * @param {{ raw: string, href: string, hasHash: boolean, pathname: string }} url\n\t * @param {Transition} TransitionClass\n\t * @param {string|HTMLElement|false} trigger\n\t * @return {Promise<void>}\n\t */\n\tbeforeFetch(url, TransitionClass, trigger) {\n\t\tE.emit('NAVIGATE_OUT', {\n\t\t\tfrom: this.currentCacheEntry,\n\t\t\ttrigger\n\t\t})\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.currentCacheEntry.renderer.leave(TransitionClass, trigger, this.removeOldContent)\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (trigger !== 'popstate') {\n\t\t\t\t\t\twindow.history.pushState({}, '', url.raw)\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * @private\n\t * @param {{ raw: string, href: string, host: string, hasHash: boolean, pathname: string }} url\n\t * @param {Transition} TransitionClass\n\t * @param {CacheEntry} entry\n\t * @param {string|HTMLElement|false} trigger\n\t * @return {Promise<void>}\n\t */\n\tafterFetch(url, TransitionClass, entry, trigger) {\n\t\tthis.currentLocation = url\n\t\tthis.popTarget = this.currentLocation.href\n\n\t\treturn new Promise((resolve) => {\n\t\t\tentry.renderer.update()\n\n\t\t\tE.emit('NAVIGATE_IN', {\n\t\t\t\tfrom: this.currentCacheEntry,\n\t\t\t\tto: entry,\n\t\t\t\ttrigger\n\t\t\t})\n\n\t\t\tif (this.reloadJsFilter) {\n\t\t\t\tthis.loadScripts(entry.scripts)\n\t\t\t}\n\n\t\t\tif (this.reloadCssFilter) {\n\t\t\t\tthis.loadStyles(entry.styles)\n\t\t\t}\n\n\t\t\t// If the fetched url had a redirect chain, then replace the history to reflect the final resolved URL\n\t\t\tif (trigger !== 'popstate' && url.href !== entry.finalUrl) {\n\t\t\t\twindow.history.replaceState({}, '', entry.finalUrl)\n\t\t\t}\n\n\t\t\tentry.renderer.enter(TransitionClass, trigger)\n\t\t\t\t.then(() => {\n\t\t\t\t\tE.emit('NAVIGATE_END', {\n\t\t\t\t\t\tfrom: this.currentCacheEntry,\n\t\t\t\t\t\tto: entry,\n\t\t\t\t\t\ttrigger\n\t\t\t\t\t})\n\n\t\t\t\t\tthis.currentCacheEntry = entry\n\t\t\t\t\tthis.isTransitioning = false\n\t\t\t\t\tthis.isPopping = false\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Load up scripts from the target page if needed\n\t *\n\t * @param {HTMLElement[]} cachedScripts\n\t */\n\tloadScripts(cachedScripts) {\n\t\tconst newScripts = [...cachedScripts]\n\t\tconst currentScripts = Array.from(document.querySelectorAll('script')).filter(this.reloadJsFilter)\n\n\t\t// loop through all new scripts\n\t\tfor (let i = 0; i < currentScripts.length; i++) {\n\t\t\tfor (let n = 0; n < newScripts.length; n++) {\n\t\t\t\tif (currentScripts[i].outerHTML === newScripts[n].outerHTML) {\n\t\t\t\t\treloadScript(currentScripts[i])\n\t\t\t\t\tnewScripts.splice(n, 1)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const script of newScripts) {\n\t\t\tappendScript(script)\n\t\t}\n\t}\n\n\t/**\n\t * Load up styles from the target page if needed\n\t *\n\t * @param {HTMLLinkElement[]} cachedStyles\n\t */\n\tloadStyles(cachedStyles) {\n\t\tconst currentStyles = Array.from(document.querySelectorAll('link[rel=\"stylesheet\"]')).filter(this.reloadCssFilter)\n\n\t\tcachedStyles.forEach(el => {\n\t\t\tif (el.href && !currentStyles.find((link) => link.href === el.href)) {\n\t\t\t\tdocument.body.append(el)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * @private\n\t * @param {string} links\n\t */\n\tattachEvents(links) {\n\t\tE.delegate('click', links, this.onClick)\n\t\tE.on('popstate', window, this.onPopstate)\n\n\t\tif (this.enablePrefetch) {\n\t\t\tE.delegate('mouseenter focus', links, this.onPrefetch)\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {MouseEvent} e\n\t */\n\tonClick = (e) => {\n\t\tif (!(e.metaKey || e.ctrlKey)) {\n\t\t\tconst target = processUrl(e.currentTarget.href)\n\t\t\tthis.currentLocation = processUrl(window.location.href)\n\n\t\t\tif (this.currentLocation.host !== target.host) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// the target is a new URL, or is removing the hash from the current URL\n\t\t\tif (this.currentLocation.href !== target.href || (this.currentLocation.hasHash && !target.hasHash)) {\n\t\t\t\te.preventDefault()\n\t\t\t\t// noinspection JSIgnoredPromiseFromCall\n\t\t\t\tthis.navigateTo(target.raw, e.currentTarget.dataset.transition || false, e.currentTarget).catch(err => console.warn(err))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// a click to the current URL was detected\n\t\t\tif (!this.currentLocation.hasHash && !target.hasHash) {\n\t\t\t\te.preventDefault()\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @return {void|boolean}\n\t */\n\tonPopstate = () => {\n\t\t// don't trigger for on-page anchors\n\t\tif (window.location.pathname === this.currentLocation.pathname && !this.isPopping) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (!this.allowInterruption && (this.isTransitioning || this.isPopping)) {\n\t\t\t// overwrite history state with current page if currently navigating\n\t\t\twindow.history.pushState({}, '', this.popTarget)\n\t\t\tconsole.warn(IN_PROGRESS)\n\t\t\treturn false\n\t\t}\n\n\t\tif (!this.isPopping) {\n\t\t\tthis.popTarget = window.location.href\n\t\t}\n\n\t\tthis.isPopping = true\n\n\t\t// noinspection JSIgnoredPromiseFromCall\n\t\tthis.navigateTo(window.location.href, false, 'popstate')\n\t}\n\n\t/**\n\t * @private\n\t * @param {MouseEvent} e\n\t */\n\tonPrefetch = (e) => {\n\t\tconst target = processUrl(e.currentTarget.href)\n\n\t\tif (this.currentLocation.host !== target.host) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.preload(e.currentTarget.href, false)\n\t}\n\n\t/**\n\t * @private\n\t * @param {string} url\n\t * @param {boolean} [runFallback]\n\t * @return {Promise<{html: Document, url: string}>}\n\t */\n\tfetch(url, runFallback = true) {\n\t\t// If Taxi is currently performing a fetch for the given URL, return that instead of starting a new request\n\t\tif (this.activePromises.has(url)) {\n\t\t\treturn this.activePromises.get(url)\n\t\t}\n\n\t\tconst request = new Promise((resolve, reject) => {\n\t\t\tlet resolvedUrl\n\n\t\t\tfetch(url, {\n\t\t\t\tmode: 'same-origin',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: { 'X-Requested-With': 'Taxi' },\n\t\t\t\tcredentials: 'same-origin'\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\treject('Taxi encountered a non 2xx HTTP status code')\n\n\t\t\t\t\t\tif (runFallback) {\n\t\t\t\t\t\t\twindow.location.href = url\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresolvedUrl = response.url\n\n\t\t\t\t\treturn response.text()\n\t\t\t\t})\n\t\t\t\t.then((htmlString) => {\n\t\t\t\t\tresolve({ html: parseDom(htmlString), url: resolvedUrl })\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\treject(err)\n\n\t\t\t\t\tif (runFallback) {\n\t\t\t\t\t\twindow.location.href = url\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.activePromises.delete(url)\n\t\t\t\t})\n\t\t})\n\n\t\tthis.activePromises.set(url, request)\n\n\t\treturn request\n\t}\n\n\t/**\n\t * @private\n\t * @param {string|false} transition\n\t * @return {Transition|function}\n\t */\n\tchooseTransition(transition) {\n\t\tif (transition) {\n\t\t\treturn this.transitions[transition]\n\t\t}\n\n\t\tconst routeTransition = this.router?.findMatch(this.currentLocation, this.targetLocation)\n\n\t\tif (routeTransition) {\n\t\t\treturn this.transitions[routeTransition]\n\t\t}\n\n\t\treturn this.defaultTransition\n\t}\n\n\t/**\n\t * @private\n\t * @param {Document|Node} page\n\t * @param {string} url\n\t * @return {CacheEntry}\n\t */\n\tcreateCacheEntry(page, url) {\n\t\tconst content = page.querySelector('[data-taxi-view]')\n\t\tconst Renderer = content.dataset.taxiView.length ? this.renderers[content.dataset.taxiView] : this.defaultRenderer\n\n\t\tif (!Renderer) {\n\t\t\tconsole.warn(`The Renderer \"${content.dataset.taxiView}\" was set in the data-taxi-view of the requested page, but not registered in Taxi.`)\n\t\t}\n\n\t\treturn {\n\t\t\tpage,\n\t\t\tcontent,\n\t\t\tfinalUrl: url,\n\t\t\tskipCache: content.hasAttribute('data-taxi-nocache'),\n\t\t\tscripts: this.reloadJsFilter ? Array.from(page.querySelectorAll('script')).filter(this.reloadJsFilter) : [],\n\t\t\tstyles: this.reloadCssFilter ? Array.from(page.querySelectorAll('link[rel=\"stylesheet\"]')).filter(this.reloadCssFilter) : [],\n\t\t\ttitle: page.title,\n\t\t\trenderer: new Renderer({\n\t\t\t\twrapper: this.wrapper,\n\t\t\t\ttitle: page.title,\n\t\t\t\tcontent,\n\t\t\t\tpage\n\t\t\t})\n\t\t}\n\t}\n}\n", "import { Core } from \"@unseenco/taxi\";\n\nexport class Pages extends Core {\n  constructor() {\n    super({\n      links: \"a:not([target]):not([href^=\\\\#]):not([data-taxi-ignore])\",\n      removeOldContent: true,\n      allowInterruption: false,\n      bypassCache: false,\n      transitions: {\n        default: Tra,\n      },\n    });\n\n    // this.initEvents();\n    window.router = this;\n  }\n\n  useProps() {\n    // setup props\n    this.props = {\n      from: getPath(window.location.href),\n      to: null,\n    };\n\n    this.on(\"NAVIGATE_OUT\", ({ trigger }) => {\n      if (trigger === \"popstate\") {\n        this.props.to = getPath(location.href);\n      } else {\n        this.props.to = getPath(trigger.href);\n      }\n    });\n  }\n\n  async transitionOut(page) {\n    await Promise.allSettled([\n      window.app.dom.transitionOut(page),\n      // window.app.gl.transitionOut(page),\n    ]);\n\n    // console.log(\"transition Out\", page);\n    return Promise.resolve();\n  }\n\n  async transitionIn(page) {\n    await Promise.allSettled([\n      window.app.dom.transitionIn(page),\n      // window.app.gl.transitionIn(page),\n    ]);\n\n    // console.log(\"transition In\", page);\n    return Promise.resolve();\n  }\n}\n\n/**\n * Utils\n */\nfunction getPath(url) {\n  const fullUrl = new URL(url);\n  const splitPath = fullUrl.pathname.split(\"/\");\n  const [, second, third] = splitPath;\n  return [second, third];\n}\n\n// initEvents() {\n//   this.on(\"NAVIGATE_OUT\", ({ from, trigger }) => {\n//     // console.log(\"OUT\", from, trigger);\n//   });\n\n//   this.on(\"NAVIGATE_IN\", ({ to, trigger }) => {\n//     // console.log(\"IN\", to, trigger);\n//   });\n\n//   this.on(\"NAVIGATE_END\", ({ to, from, trigger }) => {\n//     // console.log(\"END\", to, from, trigger);\n//   });\n// }\n\n/* -- Transition */\nclass Tra {\n  constructor({ wrapper }) {\n    this.wrapper = wrapper;\n  }\n\n  leave(props) {\n    return new Promise((resolve) => {\n      this.onLeave({ ...props, done: resolve });\n    });\n  }\n\n  enter(props) {\n    return new Promise((resolve) => {\n      this.onEnter({ ...props, done: resolve });\n    });\n  }\n\n  onLeave({ from, trigger, done }) {\n    window.app.pages.transitionOut(from).then(() => done());\n  }\n\n  onEnter({ to, trigger, done }) {\n    window.app.pages.transitionIn(to).then(() => done());\n  }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nexport function set(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    out[2] = 1.0 / a[2];\n    return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let len = x * x + y * y + z * z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n    let ax = a[0],\n        ay = a[1],\n        az = a[2];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n    return out;\n}\n\n/**\n * Same as above but doesn't apply translation.\n * Useful for rays.\n */\nexport function scaleRotateMat4(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat3(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nexport function transformQuat(out, a, q) {\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let qx = q[0],\n        qy = q[1],\n        qz = q[2],\n        qw = q[3];\n\n    let uvx = qy * z - qz * y;\n    let uvy = qz * x - qx * z;\n    let uvz = qx * y - qy * x;\n\n    let uuvx = qy * uvz - qz * uvy;\n    let uuvy = qz * uvx - qx * uvz;\n    let uuvz = qx * uvy - qy * uvx;\n\n    let w2 = qw * 2;\n    uvx *= w2;\n    uvy *= w2;\n    uvz *= w2;\n\n    uuvx *= 2;\n    uuvy *= 2;\n    uuvz *= 2;\n\n    out[0] = x + uvx + uuvx;\n    out[1] = y + uvy + uuvy;\n    out[2] = z + uvz + uuvz;\n    return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nexport const angle = (function () {\n    const tempA = [0, 0, 0];\n    const tempB = [0, 0, 0];\n\n    return function (a, b) {\n        copy(tempA, a);\n        copy(tempB, b);\n\n        normalize(tempA, tempA);\n        normalize(tempB, tempB);\n\n        let cosine = dot(tempA, tempB);\n\n        if (cosine > 1.0) {\n            return 0;\n        } else if (cosine < -1.0) {\n            return Math.PI;\n        } else {\n            return Math.acos(cosine);\n        }\n    };\n})();\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n", "import * as Vec3Func from './functions/Vec3Func.js';\n\nexport class Vec3 extends Array {\n    constructor(x = 0, y = x, z = x) {\n        super(x, y, z);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set z(v) {\n        this[2] = v;\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        Vec3Func.set(this, x, y, z);\n        return this;\n    }\n\n    copy(v) {\n        Vec3Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec3Func.add(this, va, vb);\n        else Vec3Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec3Func.subtract(this, va, vb);\n        else Vec3Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec3Func.multiply(this, this, v);\n        else Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec3Func.divide(this, this, v);\n        else Vec3Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec3Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec3Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec3Func.distance(this, v);\n        else return Vec3Func.length(this);\n    }\n\n    squaredLen() {\n        return Vec3Func.squaredLength(this);\n    }\n\n    squaredDistance(v) {\n        if (v) return Vec3Func.squaredDistance(this, v);\n        else return Vec3Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec3Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if (vb) Vec3Func.cross(this, va, vb);\n        else Vec3Func.cross(this, this, va);\n        return this;\n    }\n\n    scale(v) {\n        Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec3Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec3Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec3Func.exactEquals(this, v);\n    }\n\n    applyMatrix3(mat3) {\n        Vec3Func.transformMat3(this, this, mat3);\n        return this;\n    }\n\n    applyMatrix4(mat4) {\n        Vec3Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    scaleRotateMatrix4(mat4) {\n        Vec3Func.scaleRotateMat4(this, this, mat4);\n        return this;\n    }\n\n    applyQuaternion(q) {\n        Vec3Func.transformQuat(this, this, q);\n        return this;\n    }\n\n    angle(v) {\n        return Vec3Func.angle(this, v);\n    }\n\n    lerp(v, t) {\n        Vec3Func.lerp(this, this, v, t);\n        return this;\n    }\n\n    clone() {\n        return new Vec3(this[0], this[1], this[2]);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        return a;\n    }\n\n    transformDirection(mat4) {\n        const x = this[0];\n        const y = this[1];\n        const z = this[2];\n\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\n\n        return this.normalize();\n    }\n}\n", "// attribute params\n// {\n//     data - typed array eg UInt16Array for indices, Float32Array\n//     size - int default 1\n//     instanced - default null. Pass divisor amount\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\n//     normalized - boolean default false\n\n//     buffer - gl buffer, if buffer exists, don't need to provide data - although needs position data for bounds calculation\n//     stride - default 0 - for when passing in buffer\n//     offset - default 0 - for when passing in buffer\n//     count - default null - for when passing in buffer\n//     min - array - for when passing in buffer\n//     max - array - for when passing in buffer\n// }\n\n// TODO: fit in transform feedback\n\nimport { Vec3 } from '../math/Vec3.js';\n\nconst tempVec3 = /* @__PURE__ */ new Vec3();\n\nlet ID = 1;\nlet ATTR_ID = 1;\n\n// To stop inifinite warnings\nlet isBoundsWarned = false;\n\nexport class Geometry {\n    constructor(gl, attributes = {}) {\n        if (!gl.canvas) console.error('gl not passed as first argument to Geometry');\n        this.gl = gl;\n        this.attributes = attributes;\n        this.id = ID++;\n\n        // Store one VAO per program attribute locations order\n        this.VAOs = {};\n\n        this.drawRange = { start: 0, count: 0 };\n        this.instancedCount = 0;\n\n        // Unbind current VAO so that new buffers don't get added to active mesh\n        this.gl.renderer.bindVertexArray(null);\n        this.gl.renderer.currentGeometry = null;\n\n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // create the buffers\n        for (let key in attributes) {\n            this.addAttribute(key, attributes[key]);\n        }\n    }\n\n    addAttribute(key, attr) {\n        this.attributes[key] = attr;\n\n        // Set options\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\n        attr.size = attr.size || 1;\n        attr.type =\n            attr.type ||\n            (attr.data.constructor === Float32Array\n                ? this.gl.FLOAT\n                : attr.data.constructor === Uint16Array\n                ? this.gl.UNSIGNED_SHORT\n                : this.gl.UNSIGNED_INT); // Uint32Array\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\n        attr.normalized = attr.normalized || false;\n        attr.stride = attr.stride || 0;\n        attr.offset = attr.offset || 0;\n        attr.count = attr.count || (attr.stride ? attr.data.byteLength / attr.stride : attr.data.length / attr.size);\n        attr.divisor = attr.instanced || 0;\n        attr.needsUpdate = false;\n        attr.usage = attr.usage || this.gl.STATIC_DRAW;\n\n        if (!attr.buffer) {\n            // Push data to buffer\n            this.updateAttribute(attr);\n        }\n\n        // Update geometry counts. If indexed, ignore regular attributes\n        if (attr.divisor) {\n            this.isInstanced = true;\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\n                console.warn('geometry has multiple instanced buffers of different length');\n                return (this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor));\n            }\n            this.instancedCount = attr.count * attr.divisor;\n        } else if (key === 'index') {\n            this.drawRange.count = attr.count;\n        } else if (!this.attributes.index) {\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\n        }\n    }\n\n    updateAttribute(attr) {\n        const isNewBuffer = !attr.buffer;\n        if (isNewBuffer) attr.buffer = this.gl.createBuffer();\n        if (this.glState.boundBuffer !== attr.buffer) {\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n        }\n        if (isNewBuffer) {\n            this.gl.bufferData(attr.target, attr.data, attr.usage);\n        } else {\n            this.gl.bufferSubData(attr.target, 0, attr.data);\n        }\n        attr.needsUpdate = false;\n    }\n\n    setIndex(value) {\n        this.addAttribute('index', value);\n    }\n\n    setDrawRange(start, count) {\n        this.drawRange.start = start;\n        this.drawRange.count = count;\n    }\n\n    setInstancedCount(value) {\n        this.instancedCount = value;\n    }\n\n    createVAO(program) {\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n        this.bindAttributes(program);\n    }\n\n    bindAttributes(program) {\n        // Link all attributes to program using gl.vertexAttribPointer\n        program.attributeLocations.forEach((location, { name, type }) => {\n            // If geometry missing a required shader attribute\n            if (!this.attributes[name]) {\n                console.warn(`active attribute ${name} not being supplied`);\n                return;\n            }\n\n            const attr = this.attributes[name];\n\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n\n            // For matrix attributes, buffer needs to be defined per column\n            let numLoc = 1;\n            if (type === 35674) numLoc = 2; // mat2\n            if (type === 35675) numLoc = 3; // mat3\n            if (type === 35676) numLoc = 4; // mat4\n\n            const size = attr.size / numLoc;\n            const stride = numLoc === 1 ? 0 : numLoc * numLoc * 4;\n            const offset = numLoc === 1 ? 0 : numLoc * 4;\n\n            for (let i = 0; i < numLoc; i++) {\n                this.gl.vertexAttribPointer(location + i, size, attr.type, attr.normalized, attr.stride + stride, attr.offset + i * offset);\n                this.gl.enableVertexAttribArray(location + i);\n\n                // For instanced attributes, divisor needs to be set.\n                // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\n                this.gl.renderer.vertexAttribDivisor(location + i, attr.divisor);\n            }\n        });\n\n        // Bind indices if geometry indexed\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\n    }\n\n    draw({ program, mode = this.gl.TRIANGLES }) {\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {\n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\n        }\n\n        // Check if any attributes need updating\n        program.attributeLocations.forEach((location, { name }) => {\n            const attr = this.attributes[name];\n            if (attr.needsUpdate) this.updateAttribute(attr);\n        });\n\n        // For drawElements, offset needs to be multiple of type size\n        let indexBytesPerElement = 2;\n        if (this.attributes.index?.type === this.gl.UNSIGNED_INT) indexBytesPerElement = 4;\n\n        if (this.isInstanced) {\n            if (this.attributes.index) {\n                this.gl.renderer.drawElementsInstanced(\n                    mode,\n                    this.drawRange.count,\n                    this.attributes.index.type,\n                    this.attributes.index.offset + this.drawRange.start * indexBytesPerElement,\n                    this.instancedCount\n                );\n            } else {\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\n            }\n        } else {\n            if (this.attributes.index) {\n                this.gl.drawElements(\n                    mode,\n                    this.drawRange.count,\n                    this.attributes.index.type,\n                    this.attributes.index.offset + this.drawRange.start * indexBytesPerElement\n                );\n            } else {\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\n            }\n        }\n    }\n\n    getPosition() {\n        // Use position buffer, or min/max if available\n        const attr = this.attributes.position;\n        // if (attr.min) return [...attr.min, ...attr.max];\n        if (attr.data) return attr;\n        if (isBoundsWarned) return;\n        console.warn('No position buffer data found to compute bounds');\n        return (isBoundsWarned = true);\n    }\n\n    computeBoundingBox(attr) {\n        if (!attr) attr = this.getPosition();\n        const array = attr.data;\n        // Data loaded shouldn't haave stride, only buffers\n        // const stride = attr.stride ? attr.stride / array.BYTES_PER_ELEMENT : attr.size;\n        const stride = attr.size;\n\n        if (!this.bounds) {\n            this.bounds = {\n                min: new Vec3(),\n                max: new Vec3(),\n                center: new Vec3(),\n                scale: new Vec3(),\n                radius: Infinity,\n            };\n        }\n\n        const min = this.bounds.min;\n        const max = this.bounds.max;\n        const center = this.bounds.center;\n        const scale = this.bounds.scale;\n\n        min.set(+Infinity);\n        max.set(-Infinity);\n\n        // TODO: check size of position (eg triangle with Vec2)\n        for (let i = 0, l = array.length; i < l; i += stride) {\n            const x = array[i];\n            const y = array[i + 1];\n            const z = array[i + 2];\n\n            min.x = Math.min(x, min.x);\n            min.y = Math.min(y, min.y);\n            min.z = Math.min(z, min.z);\n\n            max.x = Math.max(x, max.x);\n            max.y = Math.max(y, max.y);\n            max.z = Math.max(z, max.z);\n        }\n\n        scale.sub(max, min);\n        center.add(min, max).divide(2);\n    }\n\n    computeBoundingSphere(attr) {\n        if (!attr) attr = this.getPosition();\n        const array = attr.data;\n        // Data loaded shouldn't haave stride, only buffers\n        // const stride = attr.stride ? attr.stride / array.BYTES_PER_ELEMENT : attr.size;\n        const stride = attr.size;\n\n        if (!this.bounds) this.computeBoundingBox(attr);\n\n        let maxRadiusSq = 0;\n        for (let i = 0, l = array.length; i < l; i += stride) {\n            tempVec3.fromArray(array, i);\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\n        }\n\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\n    }\n\n    remove() {\n        for (let key in this.VAOs) {\n            this.gl.renderer.deleteVertexArray(this.VAOs[key]);\n            delete this.VAOs[key];\n        }\n        for (let key in this.attributes) {\n            this.gl.deleteBuffer(this.attributes[key].buffer);\n            delete this.attributes[key];\n        }\n    }\n}\n", "// TODO: upload empty texture if null ? maybe not\n// TODO: upload identity matrix if null ?\n// TODO: sampler Cube\n\nlet ID = 1;\n\n// cache of typed arrays used to flatten uniform arrays\nconst arrayCacheF32 = {};\n\nexport class Program {\n    constructor(\n        gl,\n        {\n            vertex,\n            fragment,\n            uniforms = {},\n\n            transparent = false,\n            cullFace = gl.BACK,\n            frontFace = gl.CCW,\n            depthTest = true,\n            depthWrite = true,\n            depthFunc = gl.LESS,\n        } = {}\n    ) {\n        if (!gl.canvas) console.error('gl not passed as first argument to Program');\n        this.gl = gl;\n        this.uniforms = uniforms;\n        this.id = ID++;\n\n        if (!vertex) console.warn('vertex shader not supplied');\n        if (!fragment) console.warn('fragment shader not supplied');\n\n        // Store program state\n        this.transparent = transparent;\n        this.cullFace = cullFace;\n        this.frontFace = frontFace;\n        this.depthTest = depthTest;\n        this.depthWrite = depthWrite;\n        this.depthFunc = depthFunc;\n        this.blendFunc = {};\n        this.blendEquation = {};\n\n        // set default blendFunc if transparent flagged\n        if (this.transparent && !this.blendFunc.src) {\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n        }\n\n        // compile vertex shader and log errors\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, vertex);\n        gl.compileShader(vertexShader);\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\n        }\n\n        // compile fragment shader and log errors\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fragment);\n        gl.compileShader(fragmentShader);\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\n        }\n\n        // compile program and log errors\n        this.program = gl.createProgram();\n        gl.attachShader(this.program, vertexShader);\n        gl.attachShader(this.program, fragmentShader);\n        gl.linkProgram(this.program);\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            return console.warn(gl.getProgramInfoLog(this.program));\n        }\n\n        // Remove shader once linked\n        gl.deleteShader(vertexShader);\n        gl.deleteShader(fragmentShader);\n\n        // Get active uniform locations\n        this.uniformLocations = new Map();\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\n            let uniform = gl.getActiveUniform(this.program, uIndex);\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\n\n            // split uniforms' names to separate array and struct declarations\n            const split = uniform.name.match(/(\\w+)/g);\n\n            uniform.uniformName = split[0];\n            uniform.nameComponents = split.slice(1);\n        }\n\n        // Get active attribute locations\n        this.attributeLocations = new Map();\n        const locations = [];\n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\n            const location = gl.getAttribLocation(this.program, attribute.name);\n            // Ignore special built-in inputs. eg gl_VertexID, gl_InstanceID\n            if (location === -1) continue;\n            locations[location] = attribute.name;\n            this.attributeLocations.set(attribute, location);\n        }\n        this.attributeOrder = locations.join('');\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        this.blendFunc.src = src;\n        this.blendFunc.dst = dst;\n        this.blendFunc.srcAlpha = srcAlpha;\n        this.blendFunc.dstAlpha = dstAlpha;\n        if (src) this.transparent = true;\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        this.blendEquation.modeRGB = modeRGB;\n        this.blendEquation.modeAlpha = modeAlpha;\n    }\n\n    applyState() {\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\n\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\n\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\n        else this.gl.renderer.disable(this.gl.BLEND);\n\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\n        this.gl.renderer.setFrontFace(this.frontFace);\n        this.gl.renderer.setDepthMask(this.depthWrite);\n        this.gl.renderer.setDepthFunc(this.depthFunc);\n        if (this.blendFunc.src)\n            this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\n        this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\n    }\n\n    use({ flipFaces = false } = {}) {\n        let textureUnit = -1;\n        const programActive = this.gl.renderer.state.currentProgram === this.id;\n\n        // Avoid gl call if program already in use\n        if (!programActive) {\n            this.gl.useProgram(this.program);\n            this.gl.renderer.state.currentProgram = this.id;\n        }\n\n        // Set only the active uniforms found in the shader\n        this.uniformLocations.forEach((location, activeUniform) => {\n            let uniform = this.uniforms[activeUniform.uniformName];\n\n            for (const component of activeUniform.nameComponents) {\n                if (!uniform) break;\n\n                if (component in uniform) {\n                    uniform = uniform[component];\n                } else if (Array.isArray(uniform.value)) {\n                    break;\n                } else {\n                    uniform = undefined;\n                    break;\n                }\n            }\n\n            if (!uniform) {\n                return warn(`Active uniform ${activeUniform.name} has not been supplied`);\n            }\n\n            if (uniform && uniform.value === undefined) {\n                return warn(`${activeUniform.name} uniform is missing a value parameter`);\n            }\n\n            if (uniform.value.texture) {\n                textureUnit = textureUnit + 1;\n\n                // Check if texture needs to be updated\n                uniform.value.update(textureUnit);\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\n            }\n\n            // For texture arrays, set uniform as an array of texture units instead of just one\n            if (uniform.value.length && uniform.value[0].texture) {\n                const textureUnits = [];\n                uniform.value.forEach((value) => {\n                    textureUnit = textureUnit + 1;\n                    value.update(textureUnit);\n                    textureUnits.push(textureUnit);\n                });\n\n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\n            }\n\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\n        });\n\n        this.applyState();\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\n    }\n\n    remove() {\n        this.gl.deleteProgram(this.program);\n    }\n}\n\nfunction setUniform(gl, type, location, value) {\n    value = value.length ? flatten(value) : value;\n    const setValue = gl.renderer.state.uniformLocations.get(location);\n\n    // Avoid redundant uniform commands\n    if (value.length) {\n        if (setValue === undefined || setValue.length !== value.length) {\n            // clone array to store as cache\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\n        } else {\n            if (arraysEqual(setValue, value)) return;\n\n            // Update cached array values\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\n            gl.renderer.state.uniformLocations.set(location, setValue);\n        }\n    } else {\n        if (setValue === value) return;\n        gl.renderer.state.uniformLocations.set(location, value);\n    }\n\n    switch (type) {\n        case 5126:\n            return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\n        case 35664:\n            return gl.uniform2fv(location, value); // FLOAT_VEC2\n        case 35665:\n            return gl.uniform3fv(location, value); // FLOAT_VEC3\n        case 35666:\n            return gl.uniform4fv(location, value); // FLOAT_VEC4\n        case 35670: // BOOL\n        case 5124: // INT\n        case 35678: // SAMPLER_2D\n        case 35680:\n            return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\n        case 35671: // BOOL_VEC2\n        case 35667:\n            return gl.uniform2iv(location, value); // INT_VEC2\n        case 35672: // BOOL_VEC3\n        case 35668:\n            return gl.uniform3iv(location, value); // INT_VEC3\n        case 35673: // BOOL_VEC4\n        case 35669:\n            return gl.uniform4iv(location, value); // INT_VEC4\n        case 35674:\n            return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\n        case 35675:\n            return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\n        case 35676:\n            return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\n    }\n}\n\nfunction addLineNumbers(string) {\n    let lines = string.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n        lines[i] = i + 1 + ': ' + lines[i];\n    }\n    return lines.join('\\n');\n}\n\nfunction flatten(a) {\n    const arrayLen = a.length;\n    const valueLen = a[0].length;\n    if (valueLen === undefined) return a;\n    const length = arrayLen * valueLen;\n    let value = arrayCacheF32[length];\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\n    return value;\n}\n\nfunction arraysEqual(a, b) {\n    if (a.length !== b.length) return false;\n    for (let i = 0, l = a.length; i < l; i++) {\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n}\n\nfunction setArray(a, b) {\n    for (let i = 0, l = a.length; i < l; i++) {\n        a[i] = b[i];\n    }\n}\n\nlet warnCount = 0;\nfunction warn(message) {\n    if (warnCount > 100) return;\n    console.warn(message);\n    warnCount++;\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\n}\n", "import { Vec3 } from '../math/Vec3.js';\n\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\n\n// Not automatic - devs to use these methods manually\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\n// gl.clearColor( r, g, b, a );\n// gl.stencilMask( stencilMask );\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n// gl.clearStencil( stencil );\n\nconst tempVec3 = /* @__PURE__ */ new Vec3();\nlet ID = 1;\n\nexport class Renderer {\n    constructor({\n        canvas = document.createElement('canvas'),\n        width = 300,\n        height = 150,\n        dpr = 1,\n        alpha = false,\n        depth = true,\n        stencil = false,\n        antialias = false,\n        premultipliedAlpha = false,\n        preserveDrawingBuffer = false,\n        powerPreference = 'default',\n        autoClear = true,\n        webgl = 2,\n    } = {}) {\n        const attributes = { alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference };\n        this.dpr = dpr;\n        this.alpha = alpha;\n        this.color = true;\n        this.depth = depth;\n        this.stencil = stencil;\n        this.premultipliedAlpha = premultipliedAlpha;\n        this.autoClear = autoClear;\n        this.id = ID++;\n\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\n        this.isWebgl2 = !!this.gl;\n        if (!this.gl) this.gl = canvas.getContext('webgl', attributes);\n        if (!this.gl) console.error('unable to create webgl context');\n\n        // Attach renderer to gl so that all classes have access to internal state functions\n        this.gl.renderer = this;\n\n        // initialise size values\n        this.setSize(width, height);\n\n        // gl state stores to avoid redundant calls on methods used internally\n        this.state = {};\n        this.state.blendFunc = { src: this.gl.ONE, dst: this.gl.ZERO };\n        this.state.blendEquation = { modeRGB: this.gl.FUNC_ADD };\n        this.state.cullFace = false;\n        this.state.frontFace = this.gl.CCW;\n        this.state.depthMask = true;\n        this.state.depthFunc = this.gl.LESS;\n        this.state.premultiplyAlpha = false;\n        this.state.flipY = false;\n        this.state.unpackAlignment = 4;\n        this.state.framebuffer = null;\n        this.state.viewport = { x: 0, y: 0, width: null, height: null };\n        this.state.textureUnits = [];\n        this.state.activeTextureUnit = 0;\n        this.state.boundBuffer = null;\n        this.state.uniformLocations = new Map();\n        this.state.currentProgram = null;\n\n        // store requested extensions\n        this.extensions = {};\n\n        // Initialise extra format types\n        if (this.isWebgl2) {\n            this.getExtension('EXT_color_buffer_float');\n            this.getExtension('OES_texture_float_linear');\n        } else {\n            this.getExtension('OES_texture_float');\n            this.getExtension('OES_texture_float_linear');\n            this.getExtension('OES_texture_half_float');\n            this.getExtension('OES_texture_half_float_linear');\n            this.getExtension('OES_element_index_uint');\n            this.getExtension('OES_standard_derivatives');\n            this.getExtension('EXT_sRGB');\n            this.getExtension('WEBGL_depth_texture');\n            this.getExtension('WEBGL_draw_buffers');\n        }\n        this.getExtension('WEBGL_compressed_texture_astc');\n        this.getExtension('EXT_texture_compression_bptc');\n        this.getExtension('WEBGL_compressed_texture_s3tc');\n        this.getExtension('WEBGL_compressed_texture_etc1');\n        this.getExtension('WEBGL_compressed_texture_pvrtc');\n        this.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n\n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\n\n        // Store device parameters\n        this.parameters = {};\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic')\n            ? this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT)\n            : 0;\n    }\n\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n\n        this.gl.canvas.width = width * this.dpr;\n        this.gl.canvas.height = height * this.dpr;\n\n        if (!this.gl.canvas.style) return;\n        Object.assign(this.gl.canvas.style, {\n            width: width + 'px',\n            height: height + 'px',\n        });\n    }\n\n    setViewport(width, height, x = 0, y = 0) {\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\n        this.state.viewport.width = width;\n        this.state.viewport.height = height;\n        this.state.viewport.x = x;\n        this.state.viewport.y = y;\n        this.gl.viewport(x, y, width, height);\n    }\n\n    setScissor(width, height, x = 0, y = 0) {\n        this.gl.scissor(x, y, width, height);\n    }\n\n    enable(id) {\n        if (this.state[id] === true) return;\n        this.gl.enable(id);\n        this.state[id] = true;\n    }\n\n    disable(id) {\n        if (this.state[id] === false) return;\n        this.gl.disable(id);\n        this.state[id] = false;\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        if (\n            this.state.blendFunc.src === src &&\n            this.state.blendFunc.dst === dst &&\n            this.state.blendFunc.srcAlpha === srcAlpha &&\n            this.state.blendFunc.dstAlpha === dstAlpha\n        )\n            return;\n        this.state.blendFunc.src = src;\n        this.state.blendFunc.dst = dst;\n        this.state.blendFunc.srcAlpha = srcAlpha;\n        this.state.blendFunc.dstAlpha = dstAlpha;\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\n        else this.gl.blendFunc(src, dst);\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        modeRGB = modeRGB || this.gl.FUNC_ADD;\n        if (this.state.blendEquation.modeRGB === modeRGB && this.state.blendEquation.modeAlpha === modeAlpha) return;\n        this.state.blendEquation.modeRGB = modeRGB;\n        this.state.blendEquation.modeAlpha = modeAlpha;\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\n        else this.gl.blendEquation(modeRGB);\n    }\n\n    setCullFace(value) {\n        if (this.state.cullFace === value) return;\n        this.state.cullFace = value;\n        this.gl.cullFace(value);\n    }\n\n    setFrontFace(value) {\n        if (this.state.frontFace === value) return;\n        this.state.frontFace = value;\n        this.gl.frontFace(value);\n    }\n\n    setDepthMask(value) {\n        if (this.state.depthMask === value) return;\n        this.state.depthMask = value;\n        this.gl.depthMask(value);\n    }\n\n    setDepthFunc(value) {\n        if (this.state.depthFunc === value) return;\n        this.state.depthFunc = value;\n        this.gl.depthFunc(value);\n    }\n\n    activeTexture(value) {\n        if (this.state.activeTextureUnit === value) return;\n        this.state.activeTextureUnit = value;\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\n    }\n\n    bindFramebuffer({ target = this.gl.FRAMEBUFFER, buffer = null } = {}) {\n        if (this.state.framebuffer === buffer) return;\n        this.state.framebuffer = buffer;\n        this.gl.bindFramebuffer(target, buffer);\n    }\n\n    getExtension(extension, webgl2Func, extFunc) {\n        // if webgl2 function supported, return func bound to gl context\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\n\n        // fetch extension once only\n        if (!this.extensions[extension]) {\n            this.extensions[extension] = this.gl.getExtension(extension);\n        }\n\n        // return extension if no function requested\n        if (!webgl2Func) return this.extensions[extension];\n\n        // Return null if extension not supported\n        if (!this.extensions[extension]) return null;\n\n        // return extension function, bound to extension\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\n    }\n\n    sortOpaque(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else if (a.zDepth !== b.zDepth) {\n            return a.zDepth - b.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortTransparent(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        }\n        if (a.zDepth !== b.zDepth) {\n            return b.zDepth - a.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortUI(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    getRenderList({ scene, camera, frustumCull, sort }) {\n        let renderList = [];\n\n        if (camera && frustumCull) camera.updateFrustum();\n\n        // Get visible\n        scene.traverse((node) => {\n            if (!node.visible) return true;\n            if (!node.draw) return;\n\n            if (frustumCull && node.frustumCulled && camera) {\n                if (!camera.frustumIntersectsMesh(node)) return;\n            }\n\n            renderList.push(node);\n        });\n\n        if (sort) {\n            const opaque = [];\n            const transparent = []; // depthTest true\n            const ui = []; // depthTest false\n\n            renderList.forEach((node) => {\n                // Split into the 3 render groups\n                if (!node.program.transparent) {\n                    opaque.push(node);\n                } else if (node.program.depthTest) {\n                    transparent.push(node);\n                } else {\n                    ui.push(node);\n                }\n\n                node.zDepth = 0;\n\n                // Only calculate z-depth if renderOrder unset and depthTest is true\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\n\n                // update z-depth\n                node.worldMatrix.getTranslation(tempVec3);\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\n                node.zDepth = tempVec3.z;\n            });\n\n            opaque.sort(this.sortOpaque);\n            transparent.sort(this.sortTransparent);\n            ui.sort(this.sortUI);\n\n            renderList = opaque.concat(transparent, ui);\n        }\n\n        return renderList;\n    }\n\n    render({ scene, camera, target = null, update = true, sort = true, frustumCull = true, clear }) {\n        if (target === null) {\n            // make sure no render target bound so draws to canvas\n            this.bindFramebuffer();\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\n        } else {\n            // bind supplied render target and update viewport\n            this.bindFramebuffer(target);\n            this.setViewport(target.width, target.height);\n        }\n\n        if (clear || (this.autoClear && clear !== false)) {\n            // Ensure depth buffer writing is enabled so it can be cleared\n            if (this.depth && (!target || target.depth)) {\n                this.enable(this.gl.DEPTH_TEST);\n                this.setDepthMask(true);\n            }\n            this.gl.clear(\n                (this.color ? this.gl.COLOR_BUFFER_BIT : 0) |\n                    (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) |\n                    (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0)\n            );\n        }\n\n        // updates all scene graph matrices\n        if (update) scene.updateMatrixWorld();\n\n        // Update camera separately, in case not in scene graph\n        if (camera) camera.updateMatrixWorld();\n\n        // Get render list - entails culling and sorting\n        const renderList = this.getRenderList({ scene, camera, frustumCull, sort });\n\n        renderList.forEach((node) => {\n            node.draw({ camera });\n        });\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nexport function set(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    let len = x * x + y * y + z * z + w * w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    let aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n}\n", "import * as vec4 from './Vec4Func.js';\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function identity(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nexport function setAxisAngle(out, axis, rad) {\n    rad = rad * 0.5;\n    let s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n}\n\n/**\n * Multiplies two quats\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nexport function multiply(out, a, b) {\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2],\n        bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateX(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateY(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let by = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateZ(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bz = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nexport function slerp(out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2],\n        bw = b[3];\n\n    let omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n    }\n    // calculate coefficients\n    if (1.0 - cosom > 0.000001) {\n        // standard case (slerp)\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {\n        // \"from\" and \"to\" quaternions are very close\n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n\n    return out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nexport function invert(out, a) {\n    let a0 = a[0],\n        a1 = a[1],\n        a2 = a[2],\n        a3 = a[3];\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n    let invDot = dot ? 1.0 / dot : 0;\n\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0 * invDot;\n    out[1] = -a1 * invDot;\n    out[2] = -a2 * invDot;\n    out[3] = a3 * invDot;\n    return out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nexport function conjugate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nexport function fromMat3(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    let fTrace = m[0] + m[4] + m[8];\n    let fRoot;\n\n    if (fTrace > 0.0) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0); // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot; // 1/(4w)\n        out[0] = (m[5] - m[7]) * fRoot;\n        out[1] = (m[6] - m[2]) * fRoot;\n        out[2] = (m[1] - m[3]) * fRoot;\n    } else {\n        // |w| <= 1/2\n        let i = 0;\n        if (m[4] > m[0]) i = 1;\n        if (m[8] > m[i * 3 + i]) i = 2;\n        let j = (i + 1) % 3;\n        let k = (i + 2) % 3;\n\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n    }\n\n    return out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} euler Angles to rotate around each axis in degrees.\n * @param {String} order detailing order of operations. Default 'XYZ'.\n * @returns {quat} out\n * @function\n */\nexport function fromEuler(out, euler, order = 'YXZ') {\n    let sx = Math.sin(euler[0] * 0.5);\n    let cx = Math.cos(euler[0] * 0.5);\n    let sy = Math.sin(euler[1] * 0.5);\n    let cy = Math.cos(euler[1] * 0.5);\n    let sz = Math.sin(euler[2] * 0.5);\n    let cz = Math.cos(euler[2] * 0.5);\n\n    if (order === 'XYZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'YXZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'ZXY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'ZYX') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'YZX') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'XZY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    }\n\n    return out;\n}\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nexport const copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nexport const set = vec4.set;\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nexport const add = vec4.add;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nexport const scale = vec4.scale;\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nexport const dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nexport const lerp = vec4.lerp;\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport const length = vec4.length;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nexport const normalize = vec4.normalize;\n", "import * as QuatFunc from './functions/QuatFunc.js';\n\nexport class Quat extends Array {\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n        super(x, y, z, w);\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set w(v) {\n        this[3] = v;\n        this.onChange();\n    }\n\n    identity() {\n        QuatFunc.identity(this);\n        this.onChange();\n        return this;\n    }\n\n    set(x, y, z, w) {\n        if (x.length) return this.copy(x);\n        QuatFunc.set(this, x, y, z, w);\n        this.onChange();\n        return this;\n    }\n\n    rotateX(a) {\n        QuatFunc.rotateX(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateY(a) {\n        QuatFunc.rotateY(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateZ(a) {\n        QuatFunc.rotateZ(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    inverse(q = this) {\n        QuatFunc.invert(this, q);\n        this.onChange();\n        return this;\n    }\n\n    conjugate(q = this) {\n        QuatFunc.conjugate(this, q);\n        this.onChange();\n        return this;\n    }\n\n    copy(q) {\n        QuatFunc.copy(this, q);\n        this.onChange();\n        return this;\n    }\n\n    normalize(q = this) {\n        QuatFunc.normalize(this, q);\n        this.onChange();\n        return this;\n    }\n\n    multiply(qA, qB) {\n        if (qB) {\n            QuatFunc.multiply(this, qA, qB);\n        } else {\n            QuatFunc.multiply(this, this, qA);\n        }\n        this.onChange();\n        return this;\n    }\n\n    dot(v) {\n        return QuatFunc.dot(this, v);\n    }\n\n    fromMatrix3(matrix3) {\n        QuatFunc.fromMat3(this, matrix3);\n        this.onChange();\n        return this;\n    }\n\n    fromEuler(euler) {\n        QuatFunc.fromEuler(this, euler, euler.order);\n        return this;\n    }\n\n    fromAxisAngle(axis, a) {\n        QuatFunc.setAxisAngle(this, axis, a);\n        this.onChange();\n        return this;\n    }\n\n    slerp(q, t) {\n        QuatFunc.slerp(this, this, q, t);\n        this.onChange();\n        return this;\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        this.onChange();\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        return a;\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m03;\n    out[4] = m10;\n    out[5] = m11;\n    out[6] = m12;\n    out[7] = m13;\n    out[8] = m20;\n    out[9] = m21;\n    out[10] = m22;\n    out[11] = m23;\n    out[12] = m30;\n    out[13] = m31;\n    out[14] = m32;\n    out[15] = m33;\n    return out;\n}\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1],\n            a02 = a[2],\n            a03 = a[3];\n        let a12 = a[6],\n            a13 = a[7];\n        let a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function invert(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    let b0 = b[0],\n        b1 = b[1],\n        b2 = b[2],\n        b3 = b[3];\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[4];\n    b1 = b[5];\n    b2 = b[6];\n    b3 = b[7];\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[8];\n    b1 = b[9];\n    b2 = b[10];\n    b3 = b[11];\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[12];\n    b1 = b[13];\n    b2 = b[14];\n    b3 = b[15];\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n    return out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nexport function translate(out, a, v) {\n    let x = v[0],\n        y = v[1],\n        z = v[2];\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0];\n        a01 = a[1];\n        a02 = a[2];\n        a03 = a[3];\n        a10 = a[4];\n        a11 = a[5];\n        a12 = a[6];\n        a13 = a[7];\n        a20 = a[8];\n        a21 = a[9];\n        a22 = a[10];\n        a23 = a[11];\n\n        out[0] = a00;\n        out[1] = a01;\n        out[2] = a02;\n        out[3] = a03;\n        out[4] = a10;\n        out[5] = a11;\n        out[6] = a12;\n        out[7] = a13;\n        out[8] = a20;\n        out[9] = a21;\n        out[10] = a22;\n        out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0],\n        y = v[1],\n        z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function rotate(out, a, rad, axis) {\n    let x = axis[0],\n        y = axis[1],\n        z = axis[2];\n    let len = Math.hypot(x, y, z);\n    let s, c, t;\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n    let b00, b01, b02;\n    let b10, b11, b12;\n    let b20, b21, b22;\n\n    if (Math.abs(len) < EPSILON) {\n        return null;\n    }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c;\n    b01 = y * x * t + z * s;\n    b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s;\n    b11 = y * y * t + c;\n    b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s;\n    b21 = y * z * t - x * s;\n    b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) {\n        // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getTranslation(out, mat) {\n    out[0] = mat[12];\n    out[1] = mat[13];\n    out[2] = mat[14];\n\n    return out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getScaling(out, mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    out[0] = Math.hypot(m11, m12, m13);\n    out[1] = Math.hypot(m21, m22, m23);\n    out[2] = Math.hypot(m31, m32, m33);\n\n    return out;\n}\n\nexport function getMaxScaleOnAxis(mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\n\n    return Math.sqrt(Math.max(x, y, z));\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nexport const getRotation = (function () {\n    const temp = [1, 1, 1];\n\n    return function (out, mat) {\n        let scaling = temp;\n        getScaling(scaling, mat);\n\n        let is1 = 1 / scaling[0];\n        let is2 = 1 / scaling[1];\n        let is3 = 1 / scaling[2];\n\n        let sm11 = mat[0] * is1;\n        let sm12 = mat[1] * is2;\n        let sm13 = mat[2] * is3;\n        let sm21 = mat[4] * is1;\n        let sm22 = mat[5] * is2;\n        let sm23 = mat[6] * is3;\n        let sm31 = mat[8] * is1;\n        let sm32 = mat[9] * is2;\n        let sm33 = mat[10] * is3;\n\n        let trace = sm11 + sm22 + sm33;\n        let S = 0;\n\n        if (trace > 0) {\n            S = Math.sqrt(trace + 1.0) * 2;\n            out[3] = 0.25 * S;\n            out[0] = (sm23 - sm32) / S;\n            out[1] = (sm31 - sm13) / S;\n            out[2] = (sm12 - sm21) / S;\n        } else if (sm11 > sm22 && sm11 > sm33) {\n            S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n            out[3] = (sm23 - sm32) / S;\n            out[0] = 0.25 * S;\n            out[1] = (sm12 + sm21) / S;\n            out[2] = (sm31 + sm13) / S;\n        } else if (sm22 > sm33) {\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n            out[3] = (sm31 - sm13) / S;\n            out[0] = (sm12 + sm21) / S;\n            out[1] = 0.25 * S;\n            out[2] = (sm23 + sm32) / S;\n        } else {\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n            out[3] = (sm12 - sm21) / S;\n            out[0] = (sm31 + sm13) / S;\n            out[1] = (sm23 + sm32) / S;\n            out[2] = 0.25 * S;\n        }\n\n        return out;\n    };\n})();\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScale(out, q, v, s) {\n    // Quaternion math\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let xy = x * y2;\n    let xz = x * z2;\n    let yy = y * y2;\n    let yz = y * z2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n    let sx = s[0];\n    let sy = s[1];\n    let sz = s[2];\n\n    out[0] = (1 - (yy + zz)) * sx;\n    out[1] = (xy + wz) * sx;\n    out[2] = (xz - wy) * sx;\n    out[3] = 0;\n    out[4] = (xy - wz) * sy;\n    out[5] = (1 - (xx + zz)) * sy;\n    out[6] = (yz + wx) * sy;\n    out[7] = 0;\n    out[8] = (xz + wy) * sz;\n    out[9] = (yz - wx) * sz;\n    out[10] = (1 - (xx + yy)) * sz;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspective(out, fovy, aspect, near, far) {\n    let f = 1.0 / Math.tan(fovy / 2);\n    let nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 2 * far * near * nf;\n    out[15] = 0;\n    return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function ortho(out, left, right, bottom, top, near, far) {\n    let lr = 1 / (left - right);\n    let bt = 1 / (bottom - top);\n    let nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} target Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function targetTo(out, eye, target, up) {\n    let eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2];\n\n    let z0 = eyex - target[0],\n        z1 = eyey - target[1],\n        z2 = eyez - target[2];\n\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\n    if (len === 0) {\n        // eye and target are in the same position\n        z2 = 1;\n    } else {\n        len = 1 / Math.sqrt(len);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n    }\n\n    let x0 = upy * z2 - upz * z1,\n        x1 = upz * z0 - upx * z2,\n        x2 = upx * z1 - upy * z0;\n\n    len = x0 * x0 + x1 * x1 + x2 * x2;\n    if (len === 0) {\n        // up and z are parallel\n        if (upz) {\n            upx += 1e-6;\n        } else if (upy) {\n            upz += 1e-6;\n        } else {\n            upy += 1e-6;\n        }\n        (x0 = upy * z2 - upz * z1), (x1 = upz * z0 - upx * z2), (x2 = upx * z1 - upy * z0);\n\n        len = x0 * x0 + x1 * x1 + x2 * x2;\n    }\n\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n\n    out[0] = x0;\n    out[1] = x1;\n    out[2] = x2;\n    out[3] = 0;\n    out[4] = z1 * x2 - z2 * x1;\n    out[5] = z2 * x0 - z0 * x2;\n    out[6] = z0 * x1 - z1 * x0;\n    out[7] = 0;\n    out[8] = z0;\n    out[9] = z1;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = eyex;\n    out[13] = eyey;\n    out[14] = eyez;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    out[9] = a[9] + b[9];\n    out[10] = a[10] + b[10];\n    out[11] = a[11] + b[11];\n    out[12] = a[12] + b[12];\n    out[13] = a[13] + b[13];\n    out[14] = a[14] + b[14];\n    out[15] = a[15] + b[15];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    out[9] = a[9] - b[9];\n    out[10] = a[10] - b[10];\n    out[11] = a[11] - b[11];\n    out[12] = a[12] - b[12];\n    out[13] = a[13] - b[13];\n    out[14] = a[14] - b[14];\n    out[15] = a[15] - b[15];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    out[9] = a[9] * b;\n    out[10] = a[10] * b;\n    out[11] = a[11] * b;\n    out[12] = a[12] * b;\n    out[13] = a[13] * b;\n    out[14] = a[14] * b;\n    out[15] = a[15] * b;\n    return out;\n}\n", "import * as Mat4Func from './functions/Mat4Func.js';\n\nexport class Mat4 extends Array {\n    constructor(\n        m00 = 1,\n        m01 = 0,\n        m02 = 0,\n        m03 = 0,\n        m10 = 0,\n        m11 = 1,\n        m12 = 0,\n        m13 = 0,\n        m20 = 0,\n        m21 = 0,\n        m22 = 1,\n        m23 = 0,\n        m30 = 0,\n        m31 = 0,\n        m32 = 0,\n        m33 = 1\n    ) {\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    get x() {\n        return this[12];\n    }\n\n    get y() {\n        return this[13];\n    }\n\n    get z() {\n        return this[14];\n    }\n\n    get w() {\n        return this[15];\n    }\n\n    set x(v) {\n        this[12] = v;\n    }\n\n    set y(v) {\n        this[13] = v;\n    }\n\n    set z(v) {\n        this[14] = v;\n    }\n\n    set w(v) {\n        this[15] = v;\n    }\n\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n        if (m00.length) return this.copy(m00);\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat4Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, axis, m = this) {\n        Mat4Func.rotate(this, m, v, axis);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat4Func.scale(this, m, typeof v === 'number' ? [v, v, v] : v);\n        return this;\n    }\n\n    add(ma, mb) {\n        if (mb) Mat4Func.add(this, ma, mb);\n        else Mat4Func.add(this, this, ma);\n        return this;\n    }\n\n    sub(ma, mb) {\n        if (mb) Mat4Func.subtract(this, ma, mb);\n        else Mat4Func.subtract(this, this, ma);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (!ma.length) {\n            Mat4Func.multiplyScalar(this, this, ma);\n        } else if (mb) {\n            Mat4Func.multiply(this, ma, mb);\n        } else {\n            Mat4Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat4Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat4Func.copy(this, m);\n        return this;\n    }\n\n    fromPerspective({ fov, aspect, near, far } = {}) {\n        Mat4Func.perspective(this, fov, aspect, near, far);\n        return this;\n    }\n\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat4Func.fromQuat(this, q);\n        return this;\n    }\n\n    setPosition(v) {\n        this.x = v[0];\n        this.y = v[1];\n        this.z = v[2];\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat4Func.invert(this, m);\n        return this;\n    }\n\n    compose(q, pos, scale) {\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\n        return this;\n    }\n\n    getRotation(q) {\n        Mat4Func.getRotation(q, this);\n        return this;\n    }\n\n    getTranslation(pos) {\n        Mat4Func.getTranslation(pos, this);\n        return this;\n    }\n\n    getScaling(scale) {\n        Mat4Func.getScaling(scale, this);\n        return this;\n    }\n\n    getMaxScaleOnAxis() {\n        return Mat4Func.getMaxScaleOnAxis(this);\n    }\n\n    lookAt(eye, target, up) {\n        Mat4Func.targetTo(this, eye, target, up);\n        return this;\n    }\n\n    determinant() {\n        return Mat4Func.determinant(this);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        this[4] = a[o + 4];\n        this[5] = a[o + 5];\n        this[6] = a[o + 6];\n        this[7] = a[o + 7];\n        this[8] = a[o + 8];\n        this[9] = a[o + 9];\n        this[10] = a[o + 10];\n        this[11] = a[o + 11];\n        this[12] = a[o + 12];\n        this[13] = a[o + 13];\n        this[14] = a[o + 14];\n        this[15] = a[o + 15];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        a[o + 4] = this[4];\n        a[o + 5] = this[5];\n        a[o + 6] = this[6];\n        a[o + 7] = this[7];\n        a[o + 8] = this[8];\n        a[o + 9] = this[9];\n        a[o + 10] = this[10];\n        a[o + 11] = this[11];\n        a[o + 12] = this[12];\n        a[o + 13] = this[13];\n        a[o + 14] = this[14];\n        a[o + 15] = this[15];\n        return a;\n    }\n}\n", "// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\n    if (order === 'XYZ') {\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\n        if (Math.abs(m[8]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[2] = Math.atan2(-m[4], m[0]);\n        } else {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[2] = 0;\n        }\n    } else if (order === 'YXZ') {\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\n        if (Math.abs(m[9]) < 0.99999) {\n            out[1] = Math.atan2(m[8], m[10]);\n            out[2] = Math.atan2(m[1], m[5]);\n        } else {\n            out[1] = Math.atan2(-m[2], m[0]);\n            out[2] = 0;\n        }\n    } else if (order === 'ZXY') {\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\n        if (Math.abs(m[6]) < 0.99999) {\n            out[1] = Math.atan2(-m[2], m[10]);\n            out[2] = Math.atan2(-m[4], m[5]);\n        } else {\n            out[1] = 0;\n            out[2] = Math.atan2(m[1], m[0]);\n        }\n    } else if (order === 'ZYX') {\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\n        if (Math.abs(m[2]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[10]);\n            out[2] = Math.atan2(m[1], m[0]);\n        } else {\n            out[0] = 0;\n            out[2] = Math.atan2(-m[4], m[5]);\n        }\n    } else if (order === 'YZX') {\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\n        if (Math.abs(m[1]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[5]);\n            out[1] = Math.atan2(-m[2], m[0]);\n        } else {\n            out[0] = 0;\n            out[1] = Math.atan2(m[8], m[10]);\n        }\n    } else if (order === 'XZY') {\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\n        if (Math.abs(m[4]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[1] = Math.atan2(m[8], m[0]);\n        } else {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[1] = 0;\n        }\n    }\n\n    return out;\n}\n", "import * as EulerFunc from './functions/EulerFunc.js';\nimport { Mat4 } from './Mat4.js';\n\nconst tmpMat4 = /* @__PURE__ */ new Mat4();\n\nexport class Euler extends Array {\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\n        super(x, y, z);\n        this.order = order;\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        this[0] = x;\n        this[1] = y;\n        this[2] = z;\n        this.onChange();\n        return this;\n    }\n\n    copy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        this.onChange();\n        return this;\n    }\n\n    reorder(order) {\n        this.order = order;\n        this.onChange();\n        return this;\n    }\n\n    fromRotationMatrix(m, order = this.order) {\n        EulerFunc.fromRotationMatrix(this, m, order);\n        this.onChange();\n        return this;\n    }\n\n    fromQuaternion(q, order = this.order) {\n        tmpMat4.fromQuaternion(q);\n        return this.fromRotationMatrix(tmpMat4, order);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        return a;\n    }\n}\n", "import { Vec3 } from '../math/Vec3.js';\nimport { Quat } from '../math/Quat.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Euler } from '../math/Euler.js';\n\nexport class Transform {\n    constructor() {\n        this.parent = null;\n        this.children = [];\n        this.visible = true;\n\n        this.matrix = new Mat4();\n        this.worldMatrix = new Mat4();\n        this.matrixAutoUpdate = true;\n        this.worldMatrixNeedsUpdate = false;\n\n        this.position = new Vec3();\n        this.quaternion = new Quat();\n        this.scale = new Vec3(1);\n        this.rotation = new Euler();\n        this.up = new Vec3(0, 1, 0);\n\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    setParent(parent, notifyParent = true) {\n        if (this.parent && parent !== this.parent) this.parent.removeChild(this, false);\n        this.parent = parent;\n        if (notifyParent && parent) parent.addChild(this, false);\n    }\n\n    addChild(child, notifyChild = true) {\n        if (!~this.children.indexOf(child)) this.children.push(child);\n        if (notifyChild) child.setParent(this, false);\n    }\n\n    removeChild(child, notifyChild = true) {\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\n        if (notifyChild) child.setParent(null, false);\n    }\n\n    updateMatrixWorld(force) {\n        if (this.matrixAutoUpdate) this.updateMatrix();\n        if (this.worldMatrixNeedsUpdate || force) {\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\n            this.worldMatrixNeedsUpdate = false;\n            force = true;\n        }\n\n        for (let i = 0, l = this.children.length; i < l; i++) {\n            this.children[i].updateMatrixWorld(force);\n        }\n    }\n\n    updateMatrix() {\n        this.matrix.compose(this.quaternion, this.position, this.scale);\n        this.worldMatrixNeedsUpdate = true;\n    }\n\n    traverse(callback) {\n        // Return true in callback to stop traversing children\n        if (callback(this)) return;\n        for (let i = 0, l = this.children.length; i < l; i++) {\n            this.children[i].traverse(callback);\n        }\n    }\n\n    decompose() {\n        this.matrix.getTranslation(this.position);\n        this.matrix.getRotation(this.quaternion);\n        this.matrix.getScaling(this.scale);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    lookAt(target, invert = false) {\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\n        else this.matrix.lookAt(target, this.position, this.up);\n        this.matrix.getRotation(this.quaternion);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n}\n", "import { Transform } from './Transform.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Vec3 } from '../math/Vec3.js';\n\nconst tempMat4 = /* @__PURE__ */ new Mat4();\nconst tempVec3a = /* @__PURE__ */ new Vec3();\nconst tempVec3b = /* @__PURE__ */ new Vec3();\n\nexport class Camera extends Transform {\n    constructor(gl, { near = 0.1, far = 100, fov = 45, aspect = 1, left, right, bottom, top, zoom = 1 } = {}) {\n        super();\n\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\n\n        this.projectionMatrix = new Mat4();\n        this.viewMatrix = new Mat4();\n        this.projectionViewMatrix = new Mat4();\n        this.worldPosition = new Vec3();\n\n        // Use orthographic if left/right set, else default to perspective camera\n        this.type = left || right ? 'orthographic' : 'perspective';\n\n        if (this.type === 'orthographic') this.orthographic();\n        else this.perspective();\n    }\n\n    perspective({ near = this.near, far = this.far, fov = this.fov, aspect = this.aspect } = {}) {\n        Object.assign(this, { near, far, fov, aspect });\n        this.projectionMatrix.fromPerspective({ fov: fov * (Math.PI / 180), aspect, near, far });\n        this.type = 'perspective';\n        return this;\n    }\n\n    orthographic({\n        near = this.near,\n        far = this.far,\n        left = this.left || -1,\n        right = this.right || 1,\n        bottom = this.bottom || -1,\n        top = this.top || 1,\n        zoom = this.zoom,\n    } = {}) {\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\n        left /= zoom;\n        right /= zoom;\n        bottom /= zoom;\n        top /= zoom;\n        this.projectionMatrix.fromOrthogonal({ left, right, bottom, top, near, far });\n        this.type = 'orthographic';\n        return this;\n    }\n\n    updateMatrixWorld() {\n        super.updateMatrixWorld();\n        this.viewMatrix.inverse(this.worldMatrix);\n        this.worldMatrix.getTranslation(this.worldPosition);\n\n        // used for sorting\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\n        return this;\n    }\n\n    lookAt(target) {\n        super.lookAt(target, true);\n        return this;\n    }\n\n    // Project 3D coordinate to 2D point\n    project(v) {\n        v.applyMatrix4(this.viewMatrix);\n        v.applyMatrix4(this.projectionMatrix);\n        return this;\n    }\n\n    // Unproject 2D point to 3D coordinate\n    unproject(v) {\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\n        v.applyMatrix4(this.worldMatrix);\n        return this;\n    }\n\n    updateFrustum() {\n        if (!this.frustum) {\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\n        }\n\n        const m = this.projectionViewMatrix;\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\n\n        for (let i = 0; i < 6; i++) {\n            const invLen = 1.0 / this.frustum[i].distance();\n            this.frustum[i].multiply(invLen);\n            this.frustum[i].constant *= invLen;\n        }\n    }\n\n    frustumIntersectsMesh(node, worldMatrix = node.worldMatrix) {\n        // If no position attribute, treat as frustumCulled false\n        if (!node.geometry.attributes.position) return true;\n\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\n\n        if (!node.geometry.bounds) return true;\n\n        const center = tempVec3a;\n        center.copy(node.geometry.bounds.center);\n        center.applyMatrix4(worldMatrix);\n\n        const radius = node.geometry.bounds.radius * worldMatrix.getMaxScaleOnAxis();\n\n        return this.frustumIntersectsSphere(center, radius);\n    }\n\n    frustumIntersectsSphere(center, radius) {\n        const normal = tempVec3b;\n\n        for (let i = 0; i < 6; i++) {\n            const plane = this.frustum[i];\n            const distance = normal.copy(plane).dot(center) + plane.constant;\n            if (distance < -radius) return false;\n        }\n        return true;\n    }\n}\n", "const EPSILON = 0.000001;\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nexport function fromMat4(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n}\n\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m10;\n    out[4] = m11;\n    out[5] = m12;\n    out[6] = m20;\n    out[7] = m21;\n    out[8] = m22;\n    return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1],\n            a02 = a[2],\n            a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function invert(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    let b01 = a22 * a11 - a12 * a21;\n    let b11 = -a22 * a10 + a12 * a20;\n    let b21 = a21 * a10 - a11 * a20;\n\n    // Calculate the determinant\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    let b00 = b[0],\n        b01 = b[1],\n        b02 = b[2];\n    let b10 = b[3],\n        b11 = b[4],\n        b12 = b[5];\n    let b20 = b[6],\n        b21 = b[7],\n        b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nexport function translate(out, a, v) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a10 = a[3],\n        a11 = a[4],\n        a12 = a[5],\n        a20 = a[6],\n        a21 = a[7],\n        a22 = a[8],\n        x = v[0],\n        y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function rotate(out, a, rad) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a10 = a[3],\n        a11 = a[4],\n        a12 = a[5],\n        a20 = a[6],\n        a21 = a[7],\n        a22 = a[8],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n}\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0],\n        y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {mat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\nexport function normalFromMat4(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nexport function projection(out, width, height) {\n    out[0] = 2 / width;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = -2 / height;\n    out[5] = 0;\n    out[6] = -1;\n    out[7] = 1;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    return out;\n}\n", "import * as Mat3Func from './functions/Mat3Func.js';\n\nexport class Mat3 extends Array {\n    constructor(m00 = 1, m01 = 0, m02 = 0, m10 = 0, m11 = 1, m12 = 0, m20 = 0, m21 = 0, m22 = 1) {\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n        if (m00.length) return this.copy(m00);\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat3Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, m = this) {\n        Mat3Func.rotate(this, m, v);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat3Func.scale(this, m, v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat3Func.multiply(this, ma, mb);\n        } else {\n            Mat3Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat3Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat3Func.copy(this, m);\n        return this;\n    }\n\n    fromMatrix4(m) {\n        Mat3Func.fromMat4(this, m);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat3Func.fromQuat(this, q);\n        return this;\n    }\n\n    fromBasis(vec3a, vec3b, vec3c) {\n        this.set(vec3a[0], vec3a[1], vec3a[2], vec3b[0], vec3b[1], vec3b[2], vec3c[0], vec3c[1], vec3c[2]);\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat3Func.invert(this, m);\n        return this;\n    }\n\n    getNormalMatrix(m) {\n        Mat3Func.normalFromMat4(this, m);\n        return this;\n    }\n}\n", "import { Transform } from './Transform.js';\nimport { Mat3 } from '../math/Mat3.js';\nimport { Mat4 } from '../math/Mat4.js';\n\nlet ID = 0;\n\nexport class Mesh extends Transform {\n    constructor(gl, { geometry, program, mode = gl.TRIANGLES, frustumCulled = true, renderOrder = 0 } = {}) {\n        super();\n        if (!gl.canvas) console.error('gl not passed as first argument to Mesh');\n        this.gl = gl;\n        this.id = ID++;\n        this.geometry = geometry;\n        this.program = program;\n        this.mode = mode;\n\n        // Used to skip frustum culling\n        this.frustumCulled = frustumCulled;\n\n        // Override sorting to force an order\n        this.renderOrder = renderOrder;\n        this.modelViewMatrix = new Mat4();\n        this.normalMatrix = new Mat3();\n        this.beforeRenderCallbacks = [];\n        this.afterRenderCallbacks = [];\n    }\n\n    onBeforeRender(f) {\n        this.beforeRenderCallbacks.push(f);\n        return this;\n    }\n\n    onAfterRender(f) {\n        this.afterRenderCallbacks.push(f);\n        return this;\n    }\n\n    draw({ camera } = {}) {\n        if (camera) {\n            // Add empty matrix uniforms to program if unset\n            if (!this.program.uniforms.modelMatrix) {\n                Object.assign(this.program.uniforms, {\n                    modelMatrix: { value: null },\n                    viewMatrix: { value: null },\n                    modelViewMatrix: { value: null },\n                    normalMatrix: { value: null },\n                    projectionMatrix: { value: null },\n                    cameraPosition: { value: null },\n                });\n            }\n\n            // Set the matrix uniforms\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\n        }\n        this.beforeRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\n\n        // determine if faces need to be flipped - when mesh scaled negatively\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\n        this.program.use({ flipFaces });\n        this.geometry.draw({ mode: this.mode, program: this.program });\n        this.afterRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\n    }\n}\n", "import { Geometry } from '../core/Geometry.js';\n\nexport class Plane extends Geometry {\n    constructor(gl, { width = 1, height = 1, widthSegments = 1, heightSegments = 1, attributes = {} } = {}) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n\n        // Determine length of arrays\n        const num = (wSegs + 1) * (hSegs + 1);\n        const numIndices = wSegs * hSegs * 6;\n\n        // Generate empty arrays once\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = numIndices > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        Plane.buildPlane(position, normal, uv, index, width, height, 0, wSegs, hSegs);\n\n        Object.assign(attributes, {\n            position: { size: 3, data: position },\n            normal: { size: 3, data: normal },\n            uv: { size: 2, data: uv },\n            index: { data: index },\n        });\n\n        super(gl, attributes);\n    }\n\n    static buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs, u = 0, v = 1, w = 2, uDir = 1, vDir = -1, i = 0, ii = 0) {\n        const io = i;\n        const segW = width / wSegs;\n        const segH = height / hSegs;\n\n        for (let iy = 0; iy <= hSegs; iy++) {\n            let y = iy * segH - height / 2;\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\n                let x = ix * segW - width / 2;\n\n                position[i * 3 + u] = x * uDir;\n                position[i * 3 + v] = y * vDir;\n                position[i * 3 + w] = depth / 2;\n\n                normal[i * 3 + u] = 0;\n                normal[i * 3 + v] = 0;\n                normal[i * 3 + w] = depth >= 0 ? 1 : -1;\n\n                uv[i * 2] = ix / wSegs;\n                uv[i * 2 + 1] = 1 - iy / hSegs;\n\n                if (iy === hSegs || ix === wSegs) continue;\n                let a = io + ix + iy * (wSegs + 1);\n                let b = io + ix + (iy + 1) * (wSegs + 1);\n                let c = io + ix + (iy + 1) * (wSegs + 1) + 1;\n                let d = io + ix + iy * (wSegs + 1) + 1;\n\n                index[ii * 6] = a;\n                index[ii * 6 + 1] = b;\n                index[ii * 6 + 2] = d;\n                index[ii * 6 + 3] = b;\n                index[ii * 6 + 4] = c;\n                index[ii * 6 + 5] = d;\n                ii++;\n            }\n        }\n    }\n}\n", "import { Camera } from \"ogl\";\n\nexport default class extends Camera {\n  constructor(gl, { fov = 25 }) {\n    super();\n\n    this.gl = gl;\n    this.fov = fov;\n  }\n\n  get fovInRad() {\n    return (this.fov * Math.PI) / 180;\n  }\n\n  getViewSize(ratio) {\n    const height = Math.abs(this.position.z * Math.tan(this.fovInRad / 2) * 2);\n    return { w: height * ratio, h: height };\n  }\n}\n", "#define MPI 3.1415926538\n#define MTAU 6.28318530718\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat3 normalMatrix;\n\nuniform float u_time;\n\nvarying vec3 v_normal;\nvarying vec2 v_uv;\n\n\nvoid main() {\n  vec3 pos = position;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n\n  v_normal = normalize(normalMatrix * normal);\n  v_uv = uv;\n}\n", "precision highp float;\n\nvarying vec3 v_normal;\nvarying vec2 v_uv;\n\n\n\nvoid main() {\n\n  gl_FragColor.rgb = vec3(v_uv, 2.);\n  gl_FragColor.a = 1.0;\n}\n", "import { Program } from \"ogl\";\nimport vertex from \"./vertex.vert\";\nimport fragment from \"./fragment.frag\";\n\nexport default class extends Program {\n  constructor(gl, opt = {}) {\n    super(gl, {\n      vertex: vertex,\n      fragment: fragment,\n      transparent: true,\n      cullFace: null,\n    });\n\n    this.uniforms = {\n      u_time: { value: 0 },\n      u_diff: { value: opt.diff || null },\n    };\n  }\n\n  set time(t) {\n    this.uniforms.u_time.value = t;\n  }\n}\n", "import { Plane, Mesh } from \"ogl\";\nimport Material from \"./mat/_quad\";\n\nexport class Quad extends Mesh {\n  constructor(gl, diff = null) {\n    super(gl, {\n      geometry: new Plane(gl),\n      program: new Material(gl),\n    });\n\n    this.gl = gl;\n  }\n\n  resize() {}\n\n  render(t) {\n    this.program.time = t;\n  }\n}\n", "import { Transform } from \"ogl\";\n\nimport { Quad } from \"./_quad.js\";\n// import { Instance } from \"./_instance.js\";\n\nexport default class extends Transform {\n  constructor(gl, data = {}) {\n    super();\n    this.gl = gl;\n    this.isOn = true;\n\n    this.create();\n  }\n\n  create() {\n    /* Basic Quad */\n    this.quad = new Quad(this.gl);\n    this.quad.setParent(this);\n  }\n\n  render(t) {\n    if (!this.isOn) return;\n    if (this.quad) this.quad.render(t);\n    // if (this.quads) this.quads.forEach((item) => item.render(t));\n  }\n\n  resize(vp) {\n    this.vp = vp;\n    if (this.quad) this.quad.resize(vp);\n  }\n}\n", "import { Renderer } from \"ogl\";\nimport Cam from \"./_camera.js\";\nimport Scene from \"./_scene.js\";\n\nexport default class {\n  constructor() {\n    this.wrapper = document.querySelector(\"[data-gl='c']\");\n    this.vp = {\n      dpr: Math.min(window.devicePixelRatio, 2),\n    };\n\n    this.renderer = new Renderer({ dpr: 2, alpha: true });\n    this.gl = this.renderer.gl;\n    this.gl.clearColor(0, 0, 0, 0);\n    this.gl.vp = this.vp;\n\n    this.wrapper.appendChild(this.gl.canvas);\n\n    this.camera = new Cam(this.gl, {});\n    this.camera.position.set(0, 0, 5);\n\n    this.scene = new Scene(this.gl);\n    this.time = 0;\n\n    this.initEvents();\n\n    this.render();\n  }\n\n  render(scroll = 0) {\n    this.time += 0.5;\n\n    this.controls?.update();\n    this.scene?.render(this.time);\n\n    window.requestAnimationFrame(this.render.bind(this));\n\n    this.renderer.render({\n      scene: this.scene,\n      camera: this.camera,\n    });\n  }\n\n  initEvents() {\n    // resize\n    new ResizeObserver((entry) => this.resize(entry[0].contentRect)).observe(\n      this.wrapper\n    );\n    // mouse\n    this.mouse = { x: 0, y: 0 };\n  }\n\n  resize(entry) {\n    const cw = entry ? entry.width : this.wrapper.clientWidth;\n    const ch = entry ? entry.height : this.wrapper.clientHeight;\n\n    this.vp.w = cw;\n    this.vp.h = ch;\n    this.vp.ratio = cw / ch;\n    this.vp.viewSize = this.camera.getViewSize(this.vp.ratio);\n    this.vp.viewRatio = this.vp.viewSize.w / this.vp.w;\n    this.gl.vp = this.vp;\n    // this.vp.scrollx = window.scrollX;\n    // this.vp.scrolly = window.scrollY;\n\n    this.renderer.setSize(this.vp.w, this.vp.h);\n    this.camera.perspective({\n      aspect: this.vp.ratio,\n    });\n\n    this.scene.resize(this.vp);\n    // this.resizeChild();\n  }\n}\n", "// import \"./style/main.css\";\n\nimport { Dom } from \"./modules/dom\";\nimport { Viewport } from \"./modules/viewport\";\nimport { Scroll } from \"./modules/scroll\";\nimport { Pages } from \"./modules/pages\";\nimport Gl from \"./gl/gl\";\n\nclass App {\n  constructor() {\n    this.body = document.querySelector(\"body\");\n    this.viewport = new Viewport();\n\n    this.time = 0;\n\n    this.init();\n  }\n\n  init() {\n    this.scroll = new Scroll();\n    this.pages = new Pages();\n    this.dom = new Dom();\n    this.gl = new Gl();\n\n    this.initEvents();\n    this.render();\n  }\n\n  initEvents() {\n    // prettier-ignore\n    new ResizeObserver((entry) => this.resize(entry[0])).observe(this.body);\n  }\n\n  resize({ contentRect }) {\n    this.viewport?.resize();\n    this.dom?.resize();\n  }\n\n  render(t) {\n    // this.time += 0.1;\n    this.scroll?.render(t);\n    this.dom?.render();\n\n    window.requestAnimationFrame(this.render.bind(this));\n  }\n\n  /* Events */\n}\n\nwindow.app = new App();\n"],
  "mappings": "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",
  "names": ["t", "clamp", "min", "input", "max", "Math", "Animate", "advance", "deltaTime", "_this$onUpdate", "this", "isRunning", "completed", "lerp", "value", "x", "y", "to", "t", "exp", "round", "currentTime", "linearProgress", "duration", "easedProgress", "easing", "from", "onUpdate", "call", "stop", "fromTo", "onStart", "Dimensions", "constructor", "wrapper", "content", "autoResize", "resize", "onWrapperResize", "onContentResize", "window", "width", "innerWidth", "height", "innerHeight", "clientWidth", "clientHeight", "scrollHeight", "scrollWidth", "callback", "delay", "timer", "args", "arguments", "context", "clearTimeout", "setTimeout", "apply", "wrapperResizeObserver", "ResizeObserver", "observe", "contentResizeObserver", "destroy", "_this$wrapperResizeOb", "_this$contentResizeOb", "disconnect", "limit", "Emitter", "events", "emit", "event", "callbacks", "i", "length", "on", "cb", "_this$events$event", "push", "_this$events$event2", "filter", "off", "_this$events$event3", "VirtualScroll", "element", "wheelMultiplier", "touchMultiplier", "normalizeWheel", "onTouchStart", "clientX", "clientY", "targetTouches", "touchStart", "lastDelta", "onTouchMove", "deltaX", "deltaY", "emitter", "onTouchEnd", "onWheel", "addEventListener", "passive", "removeEventListener", "Lenis", "document", "documentElement", "wheelEventsTarget", "eventsTarget", "smoothWheel", "smoothTouch", "syncTouch", "syncTouchLerp", "__iosNoInertiaSyncTouchLerp", "touchInertiaMultiplier", "pow", "infinite", "orientation", "gestureOrientation", "onVirtualScroll", "ctrlKey", "isTouch", "type", "includes", "isWheel", "options", "scroll", "composedPath", "slice", "indexOf", "rootElement", "find", "node", "_node$classList", "hasAttribute", "classList", "contains", "isStopped", "isLocked", "preventDefault", "isSmooth", "isScrolling", "animate", "delta", "abs", "hasTouchInertia", "velocity", "scrollTo", "targetScroll", "_extends", "programmatic", "onScroll", "lastScroll", "animatedScroll", "actualScroll", "direction", "sign", "lenisVersion", "body", "dimensions", "toggleClass", "virtualScroll", "setScroll", "isHorizontal", "scrollLeft", "scrollTop", "reset", "start", "raf", "time", "target", "offset", "immediate", "lock", "onComplete", "force", "_target", "querySelector", "nodeType", "wrapperRect", "getBoundingClientRect", "left", "top", "rect", "requestAnimationFrame", "d", "progress", "__isSmooth", "__isScrolling", "__isStopped", "__isLocked", "className", "name", "toggle", "t", "Map", "i", "matches", "e", "matches", "i", "i2", "listeners", "copy", "i", "n", "i", "n", "e", "Renderer", "t", "t", "o", "location", "i", "scale", "ID", "location", "i", "length", "tempVec3", "ID", "Renderer", "copy", "set", "normalize", "dot", "s", "multiply", "t", "dot", "i", "copy", "set", "dot", "normalize", "set", "copy", "normalize", "multiply", "dot", "t", "o", "copy", "set", "identity", "invert", "multiply", "scale", "s", "t", "add", "subtract", "set", "scale", "add", "subtract", "multiply", "identity", "copy", "invert", "o", "o", "i", "invert", "i", "distance", "fromQuat", "copy", "set", "identity", "invert", "multiply", "translate", "rotate", "s", "scale", "set", "translate", "rotate", "scale", "multiply", "identity", "copy", "fromQuat", "invert", "ID", "i", "t", "t", "t", "Renderer", "t"]
}
